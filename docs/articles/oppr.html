<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Optimal Project Prioritization • oppr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Optimal Project Prioritization">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oppr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/oppr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/prioritizr/oppr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Optimal Project Prioritization</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/prioritizr/oppr/blob/master/vignettes/oppr.Rmd"><code>vignettes/oppr.Rmd</code></a></small>
      <div class="hidden name"><code>oppr.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<p>The <em>oppr R</em> package is decision support tool for prioritizing conservation projects. Prioritizations can be developed by maximizing expected feature richness, expected phylogenetic diversity, the number of features that meet persistence targets, or identifying a set of projects that meet persistence targets for minimal cost. Constraints (e.g. lock in specific actions) and feature weights can also be specified to further customize prioritizations. After defining a project prioritization problem, solutions can be obtained using exact alg’orithms, heuristic algorithms, or random processes. In particular, it is recommended to install the <a href="https://www.gurobi.com">‘Gurobi’ optimizer</a> because it can identify optimal solutions very quickly. Finally, methods are provided for comparing different prioritizations and evaluating their benefits.</p>
</div>
<div id="tutorial" class="section level1">
<h1 class="hasAnchor">
<a href="#tutorial" class="anchor"></a>Tutorial</h1>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>Here we will provide a short tutorial showing how the <em>oppr R</em> package can be used to prioritize funding for conservation projects. This package is a general purpose project prioritization decision support tool. It can generate solutions for species-based project prioritization problems <span class="citation">(Joseph <em>et al.</em> 2009; Bennett <em>et al.</em> 2014)</span> and priority threat management problems <span class="citation">(Carwardine <em>et al.</em> 2018)</span>. To develop a project prioritization, this package requires data for (i) <em>conservation projects</em>, (ii) <em>management actions</em> data, and (iii) <em>biodiversity features</em>.</p>
<p>Briefly, biodiversity features are the biological entities that we wish would persist into the future (e.g. threatened populations, native species, eco-systems). These <em>biodiversity features</em> can (and ideally should) include non-threatened species, but should not include threatening processes that we wish to eradicate (e.g. populations of invasive species). <em>Management actions</em> are acts that can be undertaken to enhance biodiversity (e.g. planting native species, reintroducing native species, trapping pest species). Each action should pertain to a specific location (e.g. a national park) or area (e.g. an entire country), and should be associated with a cost estimate. To guide the prioritization, the management actions are grouped into <em>conservation projects</em> (also termed “strategies”). Typically, management actions are grouped into conservation projects based on spatial (e.g. management actions that pertain to the same area), taxonomic (e.g. management actions that pertain to the same pest species or threatened species), or thematic criteria (e.g. management actions that pertain to pest eradication are grouped into a “pest project”, and actions that pertain to habitat restoration are grouped into a “habitat project”). Additionally, some conservation projects can be combinations of other projects (e.g. a “pest and habitat project”). Each conservation project should be associated with (i) a probability of succeeding if it is implemented (also termed “feasibility”), (ii) information about which management actions are associated with it, and (iii) an estimate of how likely each conservation feature affected by the project is to persist into the future if the project is implemented (often derived using expert elicitation). The conservation projects should also include a “baseline project” that represents a “do nothing scenario” which has a 100% chance of succeeding and is associated with an action that costs nothing to implement. This is important because we can’t find a cost-effective solution if we don’t know how much each project improves a species’ chance at persistence. For more background information on project prioritization, please refer to Carwardine <em>et al.</em> <span class="citation">(2018)</span>.</p>
<p>To start off, we will initialize the random number generator to ensure reproducibility. Next, we will load the <em>oppr R</em> package. And then we will load the <em>ggplot2</em>, <em>tibble</em>, and <em>tidyr R</em> packages to help with data for visualizations and wrangling.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># set random number generated seed</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Random">set.seed</a></span>(<span class="dv">1000</span>)
<span class="co"># load oppr package for project prioritization</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(oppr)
<span class="co"># load ggplot2 package for plotting</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggplot2)
<span class="co"># load tibble package for working with tabular data</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tibble)
<span class="co"># load tidyr package for reshaping tabular data</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyr)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> 
</span><span style="color: #555555;">#</span><span> Attaching package: 'tidyr'
</span></code></pre>
</div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> The following object is masked from 'package:testthat':
</span><span style="color: #555555;">#</span><span> 
</span><span style="color: #555555;">#</span><span>     matches
</span></code></pre>
</div>
</div>
<div id="data-simulation" class="section level2">
<h2 class="hasAnchor">
<a href="#data-simulation" class="anchor"></a>Data simulation</h2>
<p>Now we will simulate a dataset to practice developing project prioritizations. Specifically, we will simulate a dataset for a priority threat management exercise that contains 40 features, 70 projects, and 30 actions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># simulate data</span>
sim_data &lt;-<span class="st"> </span><span class="kw"><a href="../reference/simulate_ptm_data.html">simulate_ptm_data</a></span>(<span class="dt">number_projects =</span> <span class="dv">70</span>, <span class="dt">number_actions =</span> <span class="dv">30</span>,
                              <span class="dt">number_features =</span> <span class="dv">40</span>)

<span class="co"># extract project, action, feature data</span>
projects &lt;-<span class="st"> </span>sim_data<span class="op">$</span>projects
actions &lt;-<span class="st"> </span>sim_data<span class="op">$</span>actions
features &lt;-<span class="st"> </span>sim_data<span class="op">$</span>features

<span class="co"># manually set feature weights for teaching purposes</span>
features<span class="op">$</span>weight &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Log">exp</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Uniform">runif</a></span>(<span class="kw"><a href="../reference/OptimizationProblem-methods.html">nrow</a></span>(features), <span class="dv">1</span>, <span class="dv">15</span>))

<span class="co"># print data</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(projects) <span class="co"># data for conservation projects</span></code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 71 x 73</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">name</span><span>  </span><span style="font-weight: bold;">success</span><span>     </span><span style="font-weight: bold;">F1</span><span>    </span><span style="font-weight: bold;">F2</span><span>    </span><span style="font-weight: bold;">F3</span><span>     </span><span style="font-weight: bold;">F4</span><span>     </span><span style="font-weight: bold;">F5</span><span>     </span><span style="font-weight: bold;">F6</span><span>     </span><span style="font-weight: bold;">F7</span><span>     </span><span style="font-weight: bold;">F8</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span> proj…   0.720  0.672    </span><span style="color: #BB0000;">NA</span><span>    </span><span style="color: #BB0000;">NA</span><span> </span><span style="color: #BB0000;">NA</span><span>      0.704 </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>      0.523
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span> proj…   0.859  0.514    </span><span style="color: #BB0000;">NA</span><span>    </span><span style="color: #BB0000;">NA</span><span>  0.832  0.616 </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>      0.547
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span> proj…   0.724 </span><span style="color: #BB0000;">NA</span><span>        </span><span style="color: #BB0000;">NA</span><span>    </span><span style="color: #BB0000;">NA</span><span>  0.812 </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>    
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span> proj…   0.768  0.505    </span><span style="color: #BB0000;">NA</span><span>    </span><span style="color: #BB0000;">NA</span><span> </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>      0.530  0.708 </span><span style="color: #BB0000;">NA</span><span>    
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span> proj…   0.856  0.539    </span><span style="color: #BB0000;">NA</span><span>    </span><span style="color: #BB0000;">NA</span><span> </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>      0.844  0.608  0.590
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span> proj…   0.891 </span><span style="color: #BB0000;">NA</span><span>        </span><span style="color: #BB0000;">NA</span><span>    </span><span style="color: #BB0000;">NA</span><span> </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>      0.563 </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>    
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span> proj…   0.874  0.546    </span><span style="color: #BB0000;">NA</span><span>    </span><span style="color: #BB0000;">NA</span><span> </span><span style="color: #BB0000;">NA</span><span>      0.682  0.576  0.676  0.737
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span> proj…   0.932  0.593    </span><span style="color: #BB0000;">NA</span><span>    </span><span style="color: #BB0000;">NA</span><span> </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>      0.803  0.580  0.666
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span> proj…   0.900 </span><span style="color: #BB0000;">NA</span><span>        </span><span style="color: #BB0000;">NA</span><span>    </span><span style="color: #BB0000;">NA</span><span>  0.572  0.547 </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>    
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span> proj…   0.952 </span><span style="color: #BB0000;">NA</span><span>        </span><span style="color: #BB0000;">NA</span><span>    </span><span style="color: #BB0000;">NA</span><span> </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>     </span><span style="color: #BB0000;">NA</span><span>    
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 61 more rows, and 63 more variables: </span><span style="color: #555555;font-weight: bold;">F9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F10</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">F11</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F14</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F16</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">F17</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F20</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F22</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">F23</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F26</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F28</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">F29</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F31</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F32</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F33</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F34</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">F35</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F36</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F37</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F38</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F39</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F40</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_1</span><span> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_3</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_4</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_5</span><span> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_6</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_9</span><span> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_10</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_13</span><span> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_14</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_16</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_17</span><span> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_20</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_21</span><span> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_22</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_25</span><span> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_26</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_28</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_29</span><span> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">baseline_action</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/print.html">print</a></span>(actions)  <span class="co"># data for management actions</span></code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 31 x 4</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">name</span><span>       </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">locked_in</span><span> </span><span style="font-weight: bold;">locked_out</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>     
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span> action_1   97.8 FALSE     FALSE     
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span> action_2   94.0 FALSE     FALSE     
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span> action_3  100.  FALSE     FALSE     
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span> action_4  103.  FALSE     FALSE     
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span> action_5   96.1 FALSE     FALSE     
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span> action_6   98.1 FALSE     FALSE     
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span> action_7   97.6 FALSE     FALSE     
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span> action_8  104.  FALSE     FALSE     
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span> action_9   99.9 FALSE     FALSE     
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span> action_10  93.1 FALSE     FALSE     
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 21 more rows</span><span>
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/print.html">print</a></span>(features) <span class="co"># data for biodiversity features</span></code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 40 x 2</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">name</span><span>     </span><span style="font-weight: bold;">weight</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span> F1       210.  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span> F2         7.64
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span> F3         7.99
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span> F4      </span><span style="text-decoration: underline;">7</span><span>732.  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span> F5     </span><span style="text-decoration: underline;">34</span><span>905.  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span> F6         3.31
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span> F7      </span><span style="text-decoration: underline;">1</span><span>168.  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span> F8    </span><span style="text-decoration: underline;">108</span><span>301.  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span> F9         3.62
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span> F10     </span><span style="text-decoration: underline;">6</span><span>956.  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 30 more rows</span><span>
</span></code></pre>
</div>
</div>
<div id="prioritizations-with-exact-algorithms" class="section level2">
<h2 class="hasAnchor">
<a href="#prioritizations-with-exact-algorithms" class="anchor"></a>Prioritizations with exact algorithms</h2>
<p>Let’s assume that we want to maximize the overall persistence of the conservation features, and that we can only spend $1’000 funding management actions. We will also assume that our decisions involve either funding management actions or not (in other words, our decisions are binary). For the moment, let’s assume that we value the persistence of each feature equally. Given this information, we can generate a project prioritization problem object that matches our specifications.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># build problem</span>
p1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/problem.html">problem</a></span>(<span class="dt">projects =</span> projects, <span class="dt">actions =</span> actions, <span class="dt">features =</span> features,
              <span class="st">"name"</span>, <span class="st">"success"</span>, <span class="st">"name"</span>, <span class="st">"cost"</span>, <span class="st">"name"</span>) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_max_richness_objective.html">add_max_richness_objective</a></span>(<span class="dt">budget =</span> <span class="dv">1000</span>) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_binary_decisions.html">add_binary_decisions</a></span>()

<span class="co"># print problem</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(p1)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> Project Prioritization Problem
</span><span style="color: #555555;">#</span><span>   actions          action_1, action_2, action_3, ... (31 actions)
</span><span style="color: #555555;">#</span><span>   projects         project_1, project_2, project_3, ... (71 projects)
</span><span style="color: #555555;">#</span><span>   features         F1, F2, F3, ... (40 features)
</span><span style="color: #555555;">#</span><span>   action costs:    min: 0, max: 113.35036
</span><span style="color: #555555;">#</span><span>   project success: min: 0.70247, max: 1
</span><span style="color: #555555;">#</span><span>   objective:       Maximum richness objective [budget (1000)]
</span><span style="color: #555555;">#</span><span>   targets:         none
</span><span style="color: #555555;">#</span><span>   weights:         default
</span><span style="color: #555555;">#</span><span>   decisions        Binary decision 
</span><span style="color: #555555;">#</span><span>   constraints:     &lt;none&gt;
</span><span style="color: #555555;">#</span><span>   solver:          default
</span></code></pre>
</div>
<p>After building the problem, we can solve it. Although backwards heuristic algorithms have conventionally been used to solve project prioritization problems <span class="citation">(e.g. Joseph <em>et al.</em> 2009; Bennett <em>et al.</em> 2014; Gerber <em>et al.</em> 2018)</span>, here we will use exact algorithms to develop a prioritization. Exact algorithms are superior to heuristic algorithms because they can provide guarantees on solution quality <span class="citation">(Underhill 1994; Rodrigues &amp; Gaston 2002)</span>. In other words, if you specify that you want an optimal solution when using exact algorithms, then you are guaranteed to get an optimal solution. Heuristic algorithms—and even more advanced meta-heuristic algorithms such as simulated annealing that are commonly to guide conservation decision making <span class="citation">(Kirkpatrick <em>et al.</em> 1983)</span>—provide no such guarantees and can actually deliver remarkably poor solutions <span class="citation">(e.g. Beyer <em>et al.</em> 2016)</span>. Later on we will experiment with heuristic algorithms, but for now, we will use exact algorithms. Since we haven’t explicitly stated which solver we would like to use, the <em>oppr R</em> package will identify the best exact algorithm solver currently installed on your system. This is typically the <em>lpSolveAPI R</em> package unless you have manually installed the <a href="http://www.gurobi.com/documentation/8.1/quickstart_mac/r_installing_the_r_package.html"><em>gurobi R</em> package</a> and the <a href="http://www.gurobi.com/">Gurobi optimization suite</a>. Although not shown here, when you try solving the problem you will see information printed to your screen as the solver tries to find an optimal solution. Please do not be alarmed, this is normal behavior and some of the information can actually be useful (e.g. to estimate how long it might take to solve the problem).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># solve problem</span>
s1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/solve.html">solve</a></span>(p1)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print solution</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(s1)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 1 x 146</span><span>
</span><span style="color: #555555;">#</span><span>   </span><span style="font-weight: bold;">solution</span><span> </span><span style="font-weight: bold;">status</span><span>   </span><span style="font-weight: bold;">obj</span><span>  </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">action_1</span><span> </span><span style="font-weight: bold;">action_2</span><span> </span><span style="font-weight: bold;">action_3</span><span> </span><span style="font-weight: bold;">action_4</span><span> </span><span style="font-weight: bold;">action_5</span><span>
</span><span style="color: #555555;">#</span><span>      </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">1</span><span>        1 OPTIM…  31.0  993.        1        1        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 137 more variables: </span><span style="color: #555555;font-weight: bold;">action_6</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_8</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_10</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_12</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_14</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_16</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_20</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_22</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_24</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_26</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_28</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">baseline_action</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_3</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_4</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_6</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_7</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_10</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_11</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_14</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_16</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_17</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_20</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_22</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_23</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_26</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_28</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_29</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_31</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_32</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_33</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_34</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_35</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_36</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_37</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_38</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_39</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_40</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_41</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_42</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_43</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_44</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_45</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_46</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_47</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_48</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_49</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_50</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_51</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_52</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_53</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_54</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_55</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_56</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_57</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_58</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_59</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_60</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_61</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_62</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_63</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_64</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_65</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_66</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_67</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_68</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_69</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_70</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">baseline_project</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F3</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, …</span><span>
</span></code></pre>
</div>
<p>The <code>s1</code> table contains the solution (i.e. a prioritization) and also various statistics associated with the solution. Here, each row corresponds to a different solution. By default only one solution will be returned, and so the table has one row. The <code>"solution"</code> column contains an integer identifier for the solution (this is when multiple solutions are output), the <code>"obj"</code> column contains the objective value (i.e. the expected feature richness in this case), the <code>"cost"</code> column stores the cost of the solution, and the <code>"status"</code> column contains information from the solver about the solution (i.e. it found an optimal solution). Additionally, it contains columns for each action (<code>"action_1"</code>, <code>"action_2"</code>, <code>"action_3"</code>, …, <code>"baseline_action"</code>) which indicate their status in the solution. In other words, these columns tell us if each action was prioritized for funding in the solution (i.e. a value of one) or not (i.e. a value of zero). Additionally, it contains columns for each project (<code>"project_1"</code>, <code>"project_2"</code>, <code>"project_3"</code>, …, <code>"baseline_project"</code>) that indicate if the project was completely funded or not. Finally, this table contains columns for each feature (<code>"F1</code>, <code>"F2"</code>, <code>"F3</code>, …) which indicate the probability that each feature is expected to persist into the future if the solution was implemented (for information on how this is calculated see <code><a href="../reference/add_max_richness_objective.html">?add_max_richness_objective</a></code>).</p>
<p>Since the text printed to the screen doesn’t show which projects were completely funded, let’s extract this information from the table.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># extract names of funded projects</span>
s1_projects &lt;-<span class="st"> </span>s1[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"solution"</span>, p1<span class="op">$</span><span class="kw"><a href="../reference/project_names.html">project_names</a></span>())] <span class="op">%&gt;%</span>
<span class="st">               </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span>(project, status, <span class="op">-</span>solution)

<span class="co"># print project results</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(s1_projects)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 71 x 3</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">solution</span><span> </span><span style="font-weight: bold;">project</span><span>    </span><span style="font-weight: bold;">status</span><span>
</span><span style="color: #555555;">#</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span>        1 project_1       0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span>        1 project_2       0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span>        1 project_3       0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span>        1 project_4       0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span>        1 project_5       0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span>        1 project_6       0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span>        1 project_7       0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span>        1 project_8       0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span>        1 project_9       0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span>        1 project_10      0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 61 more rows</span><span>
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># print names of completely funded projects</span>
s1_projects<span class="op">$</span>project[s1_projects<span class="op">$</span>status <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>]</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> [1] "project_20" "project_23" "project_28" "project_48" "project_69"
</span></code></pre>
</div>
<p>We could also calculate cost-effectiveness measures for each of the conservation projects.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># calculate cost-effectiveness of each project</span>
p1_pce &lt;-<span class="st"> </span><span class="kw"><a href="../reference/project_cost_effectiveness.html">project_cost_effectiveness</a></span>(p1)

<span class="co"># print output</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(p1_pce)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 71 x 6</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">project</span><span>     </span><span style="font-weight: bold;">cost</span><span>   </span><span style="font-weight: bold;">obj</span><span> </span><span style="font-weight: bold;">benefit</span><span>      </span><span style="font-weight: bold;">ce</span><span>  </span><span style="font-weight: bold;">rank</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>      </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span> project_1   992.  15.4    4.65 0.004</span><span style="text-decoration: underline;">69</span><span>  63  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span> project_2  </span><span style="text-decoration: underline;">2</span><span>299.  31.1   20.3  0.008</span><span style="text-decoration: underline;">85</span><span>  27  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span> project_3   578.  15.1    4.35 0.007</span><span style="text-decoration: underline;">53</span><span>  57  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span> project_4  </span><span style="text-decoration: underline;">1</span><span>482.  23.5   12.7  0.008</span><span style="text-decoration: underline;">59</span><span>  31  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span> project_5  </span><span style="text-decoration: underline;">2</span><span>292.  30.2   19.5  0.008</span><span style="text-decoration: underline;">50</span><span>  33  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span> project_6  </span><span style="text-decoration: underline;">1</span><span>296.  12.6    1.85 0.001</span><span style="text-decoration: underline;">42</span><span>  69  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span> project_7   785.  15.3    4.52 0.005</span><span style="text-decoration: underline;">76</span><span>  61  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span> project_8  </span><span style="text-decoration: underline;">2</span><span>761.  33.1   22.3  0.008</span><span style="text-decoration: underline;">09</span><span>  44  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span> project_9  </span><span style="text-decoration: underline;">1</span><span>786.  15.7    4.95 0.002</span><span style="text-decoration: underline;">77</span><span>  65  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span> project_10 </span><span style="text-decoration: underline;">2</span><span>977.  34.7   24.0  0.008</span><span style="text-decoration: underline;">06</span><span>  46.5
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 61 more rows</span><span>
</span></code></pre>
</div>
<p>The <code>p1_pce</code> table contains the cost-effectiveness of each project. Specifically, the <code>"project"</code> column contains the name of each project. The <code>"cost"</code> column contains the total cost of all the management actions associated with the project. The <code>"obj"</code> column contains the objective value associated with a solution that contains all of the management actions for each project, and also the actions associated with a zero cost. The <code>"benefit"</code> column contains the difference between (i) the objective value associated with each project and also any zero cost actions (as per the <code>"obj"</code> column), and (ii) the objective value associated with the baseline project. The <code>"ce"</code> column contains the cost-effectiveness of each project. For a given project, this is calculated by dividing its benefit by its cost (as per the <code>"benefit"</code> and <code>"cost"</code> columns). The <code>"rank"</code> column contains the rank for each project, with the most cost-effective project having a rank of one.</p>
<p>By combining the project cost-effectiveness table with the project funding table, we can see that many of the projects selected for funding are not actually the most cost-effective projects. This is because simply selecting the most cost-effective projects might double up on the same features and reduce the overall effectiveness of the solution <span class="citation">(see Chadés <em>et al.</em> 2015 for more information)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print the ranks of the priority projects</span>
p1_pce<span class="op">$</span>rank[s1_projects<span class="op">$</span>status <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>]</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> [1] 9 2 4 3 1
</span></code></pre>
</div>
<p>We could also save these table to our computer (e.g. so we could view them in a spreadsheet program, such as Microsoft Excel).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print folder where the file will be saved</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cat">cat</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/getwd">getwd</a></span>(), <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)

<span class="co"># save table to file</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/write.table">write.table</a></span>(s1, <span class="st">"solutions.csv"</span> , <span class="dt">sep =</span> <span class="st">","</span>, <span class="dt">row.names =</span> <span class="ot">FALSE</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/write.table">write.table</a></span>(s1_projects, <span class="st">"project_statuses.csv"</span> , <span class="dt">sep =</span> <span class="st">","</span>, <span class="dt">row.names =</span> <span class="ot">FALSE</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/write.table">write.table</a></span>(p1_pce, <span class="st">"project_ce.csv"</span> , <span class="dt">sep =</span> <span class="st">","</span>, <span class="dt">row.names =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>Since visualizations are an effective way to understand data, let’s create a bar plot to visualize how well this solution would conserve the features. In this plot, each bar corresponds to a different feature, the width of each bar corresponds to its expected probability of persistence, the color of each bar corresponds to the feature’s weight (since we didn’t specify any weights, all bars are the same color). Asterisks denote features that benefit from fully funded projects, and open circles (if any) denote features that do not benefit from fully funded projects but may indirectly benefit from partially funded projects.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># plot solution</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(p1, s1)</code></pre></div>
<p><img src="oppr_files/figure-html/unnamed-chunk-12-1.png" width="432" style="display: block; margin: auto;"></p>
<p>Overall, we can see that most species have a fairly decent chance at persisting into the future (approx. 77%). But when making this prioritization, we assumed that we valued the persistence of each feature equally. It is often important to account for the fact that certain features are valued more highly than other features when making prioritizations (e.g. for cultural or taxonomic reasons). The <code>features</code> table that we created earlier contains a <code>"weight"</code> column, and features with larger values mean that they are more important. Let’s quickly visualize the feature weight values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print features table</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(features)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 40 x 2</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">name</span><span>     </span><span style="font-weight: bold;">weight</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span> F1       210.  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span> F2         7.64
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span> F3         7.99
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span> F4      </span><span style="text-decoration: underline;">7</span><span>732.  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span> F5     </span><span style="text-decoration: underline;">34</span><span>905.  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span> F6         3.31
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span> F7      </span><span style="text-decoration: underline;">1</span><span>168.  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span> F8    </span><span style="text-decoration: underline;">108</span><span>301.  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span> F9         3.62
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span> F10     </span><span style="text-decoration: underline;">6</span><span>956.  
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 30 more rows</span><span>
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># plot histogram of feature weights</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="dt">data =</span> features, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(weight)) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span>(<span class="dt">bins =</span> <span class="dv">30</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Feature weight"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Frequency"</span>)</code></pre></div>
<p><img src="oppr_files/figure-html/unnamed-chunk-14-1.png" width="528" style="display: block; margin: auto;"></p>
<p>We can see that most features have a low weighting (less than 1’000), but a few features have very high weightings (greater than 500’000). Let’s make a new problem based on the original problem, add the feature weights to the new problem, and then solve this new problem.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># build on existing problem and add feature weights</span>
p2 &lt;-<span class="st"> </span>p1 <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_feature_weights.html">add_feature_weights</a></span>(<span class="st">"weight"</span>)

<span class="co"># print problem</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(p2)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> Project Prioritization Problem
</span><span style="color: #555555;">#</span><span>   actions          action_1, action_2, action_3, ... (31 actions)
</span><span style="color: #555555;">#</span><span>   projects         project_1, project_2, project_3, ... (71 projects)
</span><span style="color: #555555;">#</span><span>   features         F1, F2, F3, ... (40 features)
</span><span style="color: #555555;">#</span><span>   action costs:    min: 0, max: 113.35036
</span><span style="color: #555555;">#</span><span>   project success: min: 0.70247, max: 1
</span><span style="color: #555555;">#</span><span>   objective:       Maximum richness objective [budget (1000)]
</span><span style="color: #555555;">#</span><span>   targets:         none
</span><span style="color: #555555;">#</span><span>   weights:         min: 3.31044, max: 2432637.83911
</span><span style="color: #555555;">#</span><span>   decisions        Binary decision 
</span><span style="color: #555555;">#</span><span>   constraints:     &lt;none&gt;
</span><span style="color: #555555;">#</span><span>   solver:          default
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># solve problem</span>
s2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/solve.html">solve</a></span>(p2)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print solution</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(s2)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 1 x 146</span><span>
</span><span style="color: #555555;">#</span><span>   </span><span style="font-weight: bold;">solution</span><span> </span><span style="font-weight: bold;">status</span><span>    </span><span style="font-weight: bold;">obj</span><span>  </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">action_1</span><span> </span><span style="font-weight: bold;">action_2</span><span> </span><span style="font-weight: bold;">action_3</span><span> </span><span style="font-weight: bold;">action_4</span><span> </span><span style="font-weight: bold;">action_5</span><span>
</span><span style="color: #555555;">#</span><span>      </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">1</span><span>        1 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  874.        0        1        1        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 137 more variables: </span><span style="color: #555555;font-weight: bold;">action_6</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_8</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_10</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_12</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_14</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_16</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_20</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_22</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_24</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_26</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_28</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">baseline_action</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_3</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_4</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_6</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_7</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_10</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_11</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_14</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_16</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_17</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_20</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_22</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_23</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_26</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_28</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_29</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_31</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_32</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_33</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_34</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_35</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_36</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_37</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_38</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_39</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_40</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_41</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_42</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_43</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_44</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_45</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_46</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_47</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_48</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_49</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_50</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_51</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_52</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_53</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_54</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_55</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_56</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_57</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_58</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_59</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_60</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_61</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_62</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_63</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_64</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_65</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_66</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_67</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_68</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_69</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_70</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">baseline_project</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F3</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, …</span><span>
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># plot solution</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(p2, s2)</code></pre></div>
<p><img src="oppr_files/figure-html/unnamed-chunk-19-1.png" width="432" style="display: block; margin: auto;"></p>
<p>We can also examine how adding feature weights changed our solution.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print actions prioritized for funding in first solution</span>
actions<span class="op">$</span>name[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/which">which</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/logical">as.logical</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">as.matrix</a></span>(s1[, <span class="kw"><a href="../reference/action_names.html">action_names</a></span>(p1)])))]</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span>  [1] "action_1"  "action_2"  "action_10" "action_14" "action_21"
</span><span style="color: #555555;">#</span><span>  [6] "action_22" "action_26" "action_27" "action_28" "action_30"
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># print actions prioritized for funding in second solution</span>
actions<span class="op">$</span>name[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/which">which</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/logical">as.logical</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">as.matrix</a></span>(s2[, <span class="kw"><a href="../reference/action_names.html">action_names</a></span>(p2)])))]</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span>  [1] "action_2"        "action_3"        "action_14"      
</span><span style="color: #555555;">#</span><span>  [4] "action_17"       "action_19"       "action_22"      
</span><span style="color: #555555;">#</span><span>  [7] "action_27"       "action_28"       "action_29"      
</span><span style="color: #555555;">#</span><span> [10] "baseline_action"
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># calculate number of actions funded in both solutions</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>((<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">as.matrix</a></span>(s1[, <span class="kw"><a href="../reference/action_names.html">action_names</a></span>(p1)]) <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">&amp;</span>
<span class="st">    </span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">as.matrix</a></span>(s2[, <span class="kw"><a href="../reference/action_names.html">action_names</a></span>(p2)]) <span class="op">==</span><span class="st"> </span><span class="dv">1</span>))</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> [1] 5
</span></code></pre>
</div>
<p>Earlier, we talked about the <em>oppr R</em> package using the default exact algorithm solver. Although you should have the <em>lpSolveAPI</em> solver automatically installed, we strongly recommend installing the <a href="http://www.gurobi.com/documentation/8.1/quickstart_mac/r_installing_the_r_package.html"><em>gurobi R</em> package</a> and the <a href="http://www.gurobi.com/">Gurobi optimization suite</a>. This is because Gurobi can solve optimization problems much faster than any other software currently supported and it can also easily generate multiple solutions. Unfortunately, you will have to install Gurobi manually, but please see the documentation for the solver for instructions (i.e. enter the command <code><a href="../reference/add_gurobi_solver.html">?add_gurobi_solver</a></code> into the console). If you have Gurobi installed, let’s try using the Gurobi solver to generate multiple solutions. Here, we will manually specify the Gurobi solver and request 1’000 solutions (though we will probably obtain less than 1’000 solutions, so if we actually wanted 1’000 solutions then we would need to specify a much larger number).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create new problem, with gurobi solver added and request multiple solutions</span>
<span class="co"># note that we set the gap to 0.5 because we are not necessarily interested</span>
<span class="co"># in the top 1'000 solutions (for more information on why read the Gurobi</span>
<span class="co"># documentation on solution pools)</span>
p3 &lt;-<span class="st"> </span>p2 <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_gurobi_solver.html">add_gurobi_solver</a></span>(<span class="dt">gap =</span> <span class="fl">0.5</span>, <span class="dt">number_solution =</span> <span class="dv">1000</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># solve problem</span>
s3 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/solve.html">solve</a></span>(p3)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print solution</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(s3)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 57 x 146</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">solution</span><span> </span><span style="font-weight: bold;">status</span><span>    </span><span style="font-weight: bold;">obj</span><span>  </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">action_1</span><span> </span><span style="font-weight: bold;">action_2</span><span> </span><span style="font-weight: bold;">action_3</span><span> </span><span style="font-weight: bold;">action_4</span><span>
</span><span style="color: #555555;">#</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span>        1 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  980.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span>        2 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  967.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span>        3 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  971.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span>        4 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  969.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span>        5 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  977.        0        1        1        1
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span>        6 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  974.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span>        7 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  874.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span>        8 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  977.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span>        9 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  987.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span>       10 SUBOP… 6.10</span><span style="color: #555555;">e</span><span>6  976.        0        0        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 47 more rows, and 138 more variables: </span><span style="color: #555555;font-weight: bold;">action_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_6</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_10</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_14</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_16</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_18</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_20</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_22</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_26</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_28</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_30</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">baseline_action</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_2</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_3</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_4</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_6</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_10</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_13</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_14</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_16</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_19</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_20</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_22</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_25</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_26</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_28</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_31</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_32</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_33</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_34</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_35</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_36</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_37</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_38</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_39</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_40</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_41</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_42</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_43</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_44</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_45</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_46</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_47</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_48</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_49</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_50</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_51</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_52</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_53</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_54</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_55</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_56</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_57</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_58</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_59</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_60</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_61</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_62</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_63</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_64</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_65</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_66</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_67</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_68</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_69</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_70</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">baseline_project</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, …</span><span>
</span></code></pre>
</div>
<p>We obtained 57 solutions. Let’s briefly explore them.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># plot histogram of objective values, and add red dashed line to indicate the</span>
<span class="co"># objective value for the optimal solution</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="dt">data =</span> s3, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(obj)) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span>(<span class="dt">bins =</span> <span class="dv">10</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>(<span class="dt">xintercept =</span> s2<span class="op">$</span>obj, <span class="dt">color =</span> <span class="st">"red"</span>, <span class="dt">linetype =</span> <span class="st">"dashed"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Expected richness (objective function)"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Frequency"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">plot.margin =</span> <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/reexports.html">unit</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">5.5</span>, <span class="fl">10.5</span>, <span class="fl">5.5</span>, <span class="fl">5.5</span>), <span class="st">"pt"</span>))</code></pre></div>
<p><img src="oppr_files/figure-html/unnamed-chunk-26-1.png" width="528" style="display: block; margin: auto;"></p>
<p>We can see that some of our solutions performed much better than other solutions. And we can also see that there are several solutions that perform nearly as well as the optimal solution.</p>
</div>
<div id="assessing-action-importance" class="section level2">
<h2 class="hasAnchor">
<a href="#assessing-action-importance" class="anchor"></a>Assessing action importance</h2>
<p>After obtaining a solution to a project prioritization problem, it is often important to understand which of priority actions are most “important” <span class="citation">(or in other words: irreplaceable; Kukkala &amp; Moilanen 2013)</span>. This is because it may not be possible to implement all actions immediately and simultaneously, and since some conservation projects may be less likely to succeed if their management actions are delayed, it may be useful to provide decision makers with a measure of importance for each priority action. For example, if a pest eradication project is delayed, then the success of the project may diminish as pest populations increase over time. One simple—and potentially inaccurate <span class="citation">(but see Carwardine <em>et al.</em> 2007)</span>—approach for assessing the importance of priority actions (i.e. actions selected for funding in a solution) is calculating the “selection frequency” of the actions. Given multiple solutions, this metric involves calculating the average number of times that each priority action is selected <span class="citation">(Ball <em>et al.</em> 2009)</span>. For illustrative purposes, we shall compute the selection frequency of the solutions we obtained previously (i.e. the <code>s3</code> object).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print the solution object to remind ourselves what it looks like</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(s3)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 57 x 146</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">solution</span><span> </span><span style="font-weight: bold;">status</span><span>    </span><span style="font-weight: bold;">obj</span><span>  </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">action_1</span><span> </span><span style="font-weight: bold;">action_2</span><span> </span><span style="font-weight: bold;">action_3</span><span> </span><span style="font-weight: bold;">action_4</span><span>
</span><span style="color: #555555;">#</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span>        1 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  980.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span>        2 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  967.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span>        3 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  971.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span>        4 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  969.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span>        5 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  977.        0        1        1        1
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span>        6 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  974.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span>        7 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  874.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span>        8 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  977.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span>        9 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  987.        0        1        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span>       10 SUBOP… 6.10</span><span style="color: #555555;">e</span><span>6  976.        0        0        1        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 47 more rows, and 138 more variables: </span><span style="color: #555555;font-weight: bold;">action_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_6</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_10</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_14</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_16</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_18</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_20</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_22</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_26</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_28</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_30</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">baseline_action</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_2</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_3</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_4</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_6</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_10</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_13</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_14</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_16</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_19</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_20</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_22</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_25</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_26</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_28</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_31</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_32</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_33</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_34</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_35</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_36</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_37</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_38</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_39</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_40</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_41</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_42</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_43</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_44</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_45</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_46</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_47</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_48</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_49</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_50</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_51</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_52</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_53</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_54</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_55</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_56</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_57</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_58</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_59</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_60</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_61</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_62</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_63</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_64</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_65</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_66</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_67</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_68</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_69</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_70</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">baseline_project</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, …</span><span>
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># calculate percentage of times each action was selected for</span>
<span class="co"># funding in the solutions</span>
actions<span class="op">$</span>sel_freq &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/apply">apply</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">as.matrix</a></span>(s3[, actions<span class="op">$</span>name]), <span class="dv">2</span>, mean) <span class="op">*</span><span class="st"> </span><span class="dv">100</span>

<span class="co"># print the actions table with the new column</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(actions)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 31 x 5</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">name</span><span>       </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">locked_in</span><span> </span><span style="font-weight: bold;">locked_out</span><span> </span><span style="font-weight: bold;">sel_freq</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>         </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span> action_1   97.8 FALSE     FALSE          8.77
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span> action_2   94.0 FALSE     FALSE         61.4 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span> action_3  100.  FALSE     FALSE         56.1 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span> action_4  103.  FALSE     FALSE         15.8 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span> action_5   96.1 FALSE     FALSE          3.51
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span> action_6   98.1 FALSE     FALSE          0   
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span> action_7   97.6 FALSE     FALSE         10.5 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span> action_8  104.  FALSE     FALSE          8.77
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span> action_9   99.9 FALSE     FALSE          5.26
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span> action_10  93.1 FALSE     FALSE         35.1 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 21 more rows</span><span>
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># print top 10 most important actions based on selection frequency</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(actions[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/order">order</a></span>(actions<span class="op">$</span>sel_freq, <span class="dt">decreasing =</span> <span class="ot">TRUE</span>), ], <span class="dt">n =</span> <span class="dv">10</span>)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 10 x 5</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">name</span><span>             </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">locked_in</span><span> </span><span style="font-weight: bold;">locked_out</span><span> </span><span style="font-weight: bold;">sel_freq</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>           </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>         </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span> action_14        99.4 FALSE     FALSE          98.2
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span> baseline_action   0   FALSE     FALSE          98.2
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span> action_27        91.1 FALSE     FALSE          87.7
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span> action_28       102.  FALSE     FALSE          70.2
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span> action_19        89.8 FALSE     FALSE          66.7
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span> action_17       101.  FALSE     FALSE          63.2
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span> action_2         94.0 FALSE     FALSE          61.4
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span> action_29       103.  FALSE     FALSE          59.6
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span> action_22        93.9 FALSE     FALSE          57.9
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span> action_3        100.  FALSE     FALSE          56.1
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># plot histogram showing solution frequency</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="dt">data =</span> actions, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(sel_freq)) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span>(<span class="dt">bins =</span> <span class="dv">30</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html">coord_cartesian</a></span>(<span class="dt">xlim =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">0</span>, <span class="dv">100</span>)) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Selection frequency (%)"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Frequency"</span>)</code></pre></div>
<p><img src="oppr_files/figure-html/unnamed-chunk-27-1.png" width="528" style="display: block; margin: auto;"></p>
<p>Although selection frequency might seem like an appealing metric, it suffers from an assumption that is unrealistic for most large-scale problems. Specifically, it assumes that our portfolio of solutions is a representative sample of the near-optimal solutions to the problem. And we do not currently have any method to verify this, except by enumerating all possible solutions—which is not feasible for reasonably sized project prioritization exercises. So now we shall examine a superior metric termed the “replacement cost” <span class="citation">(Moilanen <em>et al.</em> 2009)</span>. Given a set of priority actions and a project prioritization problem, the replacement cost can be calculated for a given priority action by re-solving the problem with the priority action locked out, and calculating the difference between the objective value based on the priority actions and the new objective value with the priority action locked out. So let’s calculate the replacement cost for the priority actions in object <code>s2</code> using the problem <code>p2</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print p2 to remind ourselves about the problem</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(p2)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> Project Prioritization Problem
</span><span style="color: #555555;">#</span><span>   actions          action_1, action_2, action_3, ... (31 actions)
</span><span style="color: #555555;">#</span><span>   projects         project_1, project_2, project_3, ... (71 projects)
</span><span style="color: #555555;">#</span><span>   features         F1, F2, F3, ... (40 features)
</span><span style="color: #555555;">#</span><span>   action costs:    min: 0, max: 113.35036
</span><span style="color: #555555;">#</span><span>   project success: min: 0.70247, max: 1
</span><span style="color: #555555;">#</span><span>   objective:       Maximum richness objective [budget (1000)]
</span><span style="color: #555555;">#</span><span>   targets:         none
</span><span style="color: #555555;">#</span><span>   weights:         min: 3.31044, max: 2432637.83911
</span><span style="color: #555555;">#</span><span>   decisions        Binary decision 
</span><span style="color: #555555;">#</span><span>   constraints:     &lt;none&gt;
</span><span style="color: #555555;">#</span><span>   solver:          default
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># print s2 to remind ourselves about the solution</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(s2)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 1 x 146</span><span>
</span><span style="color: #555555;">#</span><span>   </span><span style="font-weight: bold;">solution</span><span> </span><span style="font-weight: bold;">status</span><span>    </span><span style="font-weight: bold;">obj</span><span>  </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">action_1</span><span> </span><span style="font-weight: bold;">action_2</span><span> </span><span style="font-weight: bold;">action_3</span><span> </span><span style="font-weight: bold;">action_4</span><span> </span><span style="font-weight: bold;">action_5</span><span>
</span><span style="color: #555555;">#</span><span>      </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">1</span><span>        1 OPTIM… 6.29</span><span style="color: #555555;">e</span><span>6  874.        0        1        1        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 137 more variables: </span><span style="color: #555555;font-weight: bold;">action_6</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_8</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_10</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_12</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_14</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_16</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_20</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_22</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_24</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_26</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_28</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">baseline_action</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_3</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_4</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_6</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_7</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_10</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_11</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_14</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_16</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_17</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_20</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_22</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_23</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_26</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_28</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_29</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_31</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_32</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_33</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_34</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_35</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_36</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_37</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_38</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_39</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_40</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_41</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_42</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_43</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_44</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_45</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_46</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_47</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_48</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_49</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_50</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_51</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_52</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_53</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_54</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_55</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_56</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_57</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_58</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_59</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_60</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_61</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_62</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_63</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_64</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_65</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_66</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_67</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_68</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_69</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_70</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">baseline_project</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F3</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, …</span><span>
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># calculate replacement costs for each priority action selected in s2</span>
r2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/replacement_costs.html">replacement_costs</a></span>(p2, s2)

<span class="co"># print output</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(r2)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 31 x 4</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">name</span><span>       </span><span style="font-weight: bold;">cost</span><span>      </span><span style="font-weight: bold;">obj</span><span> </span><span style="font-weight: bold;">rep_cost</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span> action_1    </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span> 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span> action_2   988. 6</span><span style="text-decoration: underline;">102</span><span>909.  </span><span style="text-decoration: underline;">187</span><span>698.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span> action_3   993. 6</span><span style="text-decoration: underline;">122</span><span>986.  </span><span style="text-decoration: underline;">167</span><span>620.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span> action_4    </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span> 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span> action_5    </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span> 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span> action_6    </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span> 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span> action_7    </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span> 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span> action_8    </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span> 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span> action_9    </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span> 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span> action_10   </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span>       </span><span style="color: #BB0000;">NA</span><span> 
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 21 more rows</span><span>
</span></code></pre>
</div>
<p>The <code>r1</code> table contains the replacement costs for each action and also various statistics associated with the solutions obtained when locking out each action. Here, each row corresponds to a different action. The <code>"action"</code> column contains the name of the actions (as per the <code>actions</code> table used when building the problem), the <code>"cost"</code> column contains the cost of the solutions obtained when each action was locked out, the <code>"obj"</code> column contains the objective value of the solutions when each action was locked out (i.e. the expected feature richness in this case), and the <code>"rep_cost"</code> column contains the replacement costs for the actions. Actions associated with larger replacement cost values are more irreplaceable, actions associated with missing (<code>NA</code>) replacement cost values were not selected for funding in the input solution (i.e. <code>s2</code>), and actions associated with infinite (<code>Inf</code>) replacement cost values are absolutely critical for meeting the constraints (though infinite values should only problems with minimum set objectives and potentially the baseline project).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># add replacement costs to action table</span>
actions<span class="op">$</span>rep_cost &lt;-<span class="st"> </span>r2<span class="op">$</span>rep_cost

<span class="co"># print actions, ordered by replacement cost</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(actions[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/order">order</a></span>(actions<span class="op">$</span>rep_cost, <span class="dt">decreasing =</span> <span class="ot">TRUE</span>), ])</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 31 x 6</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">name</span><span>             </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">locked_in</span><span> </span><span style="font-weight: bold;">locked_out</span><span> </span><span style="font-weight: bold;">sel_freq</span><span> </span><span style="font-weight: bold;">rep_cost</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>           </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>         </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span> action_14        99.4 FALSE     FALSE          98.2  </span><span style="text-decoration: underline;">345</span><span>636.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span> action_2         94.0 FALSE     FALSE          61.4  </span><span style="text-decoration: underline;">187</span><span>698.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span> action_22        93.9 FALSE     FALSE          57.9  </span><span style="text-decoration: underline;">187</span><span>698.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span> action_3        100.  FALSE     FALSE          56.1  </span><span style="text-decoration: underline;">167</span><span>620.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span> action_17       101.  FALSE     FALSE          63.2  </span><span style="text-decoration: underline;">167</span><span>620.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span> action_19        89.8 FALSE     FALSE          66.7  </span><span style="text-decoration: underline;">167</span><span>620.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span> action_27        91.1 FALSE     FALSE          87.7  </span><span style="text-decoration: underline;">167</span><span>620.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span> action_28       102.  FALSE     FALSE          70.2  </span><span style="text-decoration: underline;">167</span><span>620.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span> action_29       103.  FALSE     FALSE          59.6  </span><span style="text-decoration: underline;">167</span><span>620.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span> baseline_action   0   FALSE     FALSE          98.2  </span><span style="text-decoration: underline;">167</span><span>620.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 21 more rows</span><span>
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># test correlation between selection frequencies and replacement costs</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/cor.test">cor.test</a></span>(<span class="dt">x =</span> actions<span class="op">$</span>sel_freq, <span class="dt">y =</span> actions<span class="op">$</span>rep_cost, <span class="dt">method =</span> <span class="st">"pearson"</span>)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> 
</span><span style="color: #555555;">#</span><span>     Pearson's product-moment correlation
</span><span style="color: #555555;">#</span><span> 
</span><span style="color: #555555;">#</span><span> data:  actions$sel_freq and actions$rep_cost
</span><span style="color: #555555;">#</span><span> t = 1.6702, df = 8, p-value = 0.1334
</span><span style="color: #555555;">#</span><span> alternative hypothesis: true correlation is not equal to 0
</span><span style="color: #555555;">#</span><span> 95 percent confidence interval:
</span><span style="color: #555555;">#</span><span>  -0.1782089  0.8620989
</span><span style="color: #555555;">#</span><span> sample estimates:
</span><span style="color: #555555;">#</span><span>       cor 
</span><span style="color: #555555;">#</span><span> 0.5084703
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># plot histogram of replacement costs,</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="dt">data =</span> actions, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(rep_cost)) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span>(<span class="dt">bins =</span> <span class="dv">30</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Replacement cost"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Frequency"</span>)</code></pre></div>
<p><img src="oppr_files/figure-html/unnamed-chunk-29-1.png" width="528" style="display: block; margin: auto;"></p>
</div>
<div id="complementarity-in-project-prioritizations" class="section level2">
<h2 class="hasAnchor">
<a href="#complementarity-in-project-prioritizations" class="anchor"></a>Complementarity in project prioritizations</h2>
<p>Broadly speaking, the principle of complementarity is that individual conservation actions should complement each other—in other words, they should not double up on the same biodiversity features—and when implemented together, conservation actions should conserve a comprehensive sample of biodiversity <span class="citation">(Vane-Wright <em>et al.</em> 1991; Kukkala &amp; Moilanen 2013)</span>. This principle was born from the profound realization that individual reserves need to provide habitat for different species in order to build a reserve network that provides habitat for many different species—even if this means selecting some individual reserves that do not provide habitat for as many species as other potential reserves <span class="citation">(Kirkpatrick 1983)</span>. In the context of project prioritization, this principle means that resources should be allocated in such a way that avoids doubling up on the same conservation features so that resources can be effectively allocated to as many conservation features as possible <span class="citation">(Chadés <em>et al.</em> 2015)</span>. For instance, if decision makers consider it acceptable for features to have a 70% chance of persisting into the future, then we should avoid solutions which overly surpass this threshold (e.g. 99%) because we can allocate the limited resources to help other features reach this threshold. Such target thresholds can provide a transparent and effective method for establishing conservation priorities <span class="citation">(Carwardine <em>et al.</em> 2009)</span>. So, let’s try developing a prioritization with conservation targets. Specifically, we will develop a prioritization that maximizes the number of features that have a 60% chance of persisting, subject to the same $1’000 budget as before.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># build problem</span>
p4 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/problem.html">problem</a></span>(<span class="dt">projects =</span> projects, <span class="dt">actions =</span> actions, <span class="dt">features =</span> features,
              <span class="st">"name"</span>, <span class="st">"success"</span>, <span class="st">"name"</span>, <span class="st">"cost"</span>, <span class="st">"name"</span>) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_max_targets_met_objective.html">add_max_targets_met_objective</a></span>(<span class="dt">budget =</span> <span class="dv">1000</span>) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_absolute_targets.html">add_absolute_targets</a></span>(<span class="fl">0.7</span>) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_binary_decisions.html">add_binary_decisions</a></span>()

<span class="co"># print problem</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(p4)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> Project Prioritization Problem
</span><span style="color: #555555;">#</span><span>   actions          action_1, action_2, action_3, ... (31 actions)
</span><span style="color: #555555;">#</span><span>   projects         project_1, project_2, project_3, ... (71 projects)
</span><span style="color: #555555;">#</span><span>   features         F1, F2, F3, ... (40 features)
</span><span style="color: #555555;">#</span><span>   action costs:    min: 0, max: 113.35036
</span><span style="color: #555555;">#</span><span>   project success: min: 0.70247, max: 1
</span><span style="color: #555555;">#</span><span>   objective:       Maximum targets met objective [budget (1000)]
</span><span style="color: #555555;">#</span><span>   targets:         Absolute targets [targets (min: 0.7, max: 0.7)]
</span><span style="color: #555555;">#</span><span>   weights:         default
</span><span style="color: #555555;">#</span><span>   decisions        Binary decision 
</span><span style="color: #555555;">#</span><span>   constraints:     &lt;none&gt;
</span><span style="color: #555555;">#</span><span>   solver:          default
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># solve problem</span>
s4 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/solve.html">solve</a></span>(p4)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print solution</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(s4)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 1 x 146</span><span>
</span><span style="color: #555555;">#</span><span>   </span><span style="font-weight: bold;">solution</span><span> </span><span style="font-weight: bold;">status</span><span>   </span><span style="font-weight: bold;">obj</span><span>  </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">action_1</span><span> </span><span style="font-weight: bold;">action_2</span><span> </span><span style="font-weight: bold;">action_3</span><span> </span><span style="font-weight: bold;">action_4</span><span> </span><span style="font-weight: bold;">action_5</span><span>
</span><span style="color: #555555;">#</span><span>      </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">1</span><span>        1 OPTIM…    36  993.        1        1        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 137 more variables: </span><span style="color: #555555;font-weight: bold;">action_6</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_8</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_10</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_12</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_14</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_16</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_20</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_22</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_24</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_26</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_28</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">baseline_action</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_3</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_4</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_6</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_7</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_10</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_11</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_14</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_16</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_17</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_20</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_22</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_23</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_26</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_28</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_29</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_31</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_32</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_33</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_34</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_35</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_36</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_37</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_38</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_39</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_40</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_41</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_42</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_43</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_44</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_45</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_46</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_47</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_48</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_49</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_50</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_51</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_52</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_53</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_54</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_55</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_56</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_57</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_58</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_59</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_60</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_61</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_62</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_63</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_64</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_65</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_66</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_67</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_68</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_69</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_70</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">baseline_project</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F3</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, …</span><span>
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># plot solution</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(p4, s4)</code></pre></div>
<p><img src="oppr_files/figure-html/unnamed-chunk-32-1.png" width="432" style="display: block; margin: auto;"></p>
<p>But how would the number of features which meet the target change if we increased the budget? Or how would the number of features which meet the target change if we increased the target to 85%? These are common questions in project prioritization exercises <span class="citation">(e.g. Chadés <em>et al.</em> 2015; Di Fonzo <em>et al.</em> 2016; Martin <em>et al.</em> 2018)</span>. So, let’s try solving this problem with 70% and 85% targets under a range of different budgets and plot the relationships.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># specify budgets, ranging between zero and the total cost of all the budgets,</span>
<span class="co"># with the total number of different budgets equaling 50</span>
<span class="co"># (note that we would use a higher number for publications)</span>
budgets &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq">seq</a></span>(<span class="dv">0</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(actions<span class="op">$</span>cost), <span class="dt">length.out =</span> <span class="dv">50</span>)

<span class="co"># specify targets</span>
targets &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">0.7</span>, <span class="fl">0.85</span>)

<span class="co"># run prioritizations and compile results</span>
comp_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">lapply</a></span>(targets, <span class="cf">function</span>(i) {
  o &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">lapply</a></span>(budgets, <span class="cf">function</span>(b) {
    <span class="kw"><a href="../reference/problem.html">problem</a></span>(<span class="dt">projects =</span> projects, <span class="dt">actions =</span> actions, <span class="dt">features =</span> features,
            <span class="st">"name"</span>, <span class="st">"success"</span>, <span class="st">"name"</span>, <span class="st">"cost"</span>, <span class="st">"name"</span>) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw"><a href="../reference/add_max_targets_met_objective.html">add_max_targets_met_objective</a></span>(<span class="dt">budget =</span> b) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw"><a href="../reference/add_absolute_targets.html">add_absolute_targets</a></span>(i) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw"><a href="../reference/add_binary_decisions.html">add_binary_decisions</a></span>() <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw"><a href="../reference/add_default_solver.html">add_default_solver</a></span>(<span class="dt">verbose =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw"><a href="../reference/solve.html">solve</a></span>()
  })
  o &lt;-<span class="st"> </span><span class="kw"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/do.call">do.call</a></span>(rbind, o))
  o<span class="op">$</span>budget &lt;-<span class="st"> </span>budgets
  o<span class="op">$</span>target &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(i <span class="op">*</span><span class="st"> </span><span class="dv">100</span>, <span class="st">"%"</span>)
  o
})
comp_data &lt;-<span class="st"> </span><span class="kw"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/do.call">do.call</a></span>(rbind, comp_data))

<span class="co"># plot the relationship between the number of features that meet the target</span>
<span class="co"># in a solution and the cost of a solution</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(comp_data, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> cost, <span class="dt">y =</span> obj, <span class="dt">color =</span> target)) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_step</a></span>() <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Solution cost ($)"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Number of features with targets"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">color =</span> <span class="st">"Target"</span>)</code></pre></div>
<p><img src="oppr_files/figure-html/unnamed-chunk-33-1.png" width="432" style="display: block; margin: auto;"></p>
<p>We might also be interested in understanding how exactly how much it would cost to implement a set of management actions that would result in all of the features meeting a specific target. Let’s see if we can find out how much it would cost to ensure that every feature has a 99% probability of persistence.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># build problem</span>
p5 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/problem.html">problem</a></span>(<span class="dt">projects =</span> projects, <span class="dt">actions =</span> actions, <span class="dt">features =</span> features,
              <span class="st">"name"</span>, <span class="st">"success"</span>, <span class="st">"name"</span>, <span class="st">"cost"</span>, <span class="st">"name"</span>) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_min_set_objective.html">add_min_set_objective</a></span>() <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_absolute_targets.html">add_absolute_targets</a></span>(<span class="fl">0.99</span>) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_binary_decisions.html">add_binary_decisions</a></span>()

<span class="co"># print problem</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(p5)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> Project Prioritization Problem
</span><span style="color: #555555;">#</span><span>   actions          action_1, action_2, action_3, ... (31 actions)
</span><span style="color: #555555;">#</span><span>   projects         project_1, project_2, project_3, ... (71 projects)
</span><span style="color: #555555;">#</span><span>   features         F1, F2, F3, ... (40 features)
</span><span style="color: #555555;">#</span><span>   action costs:    min: 0, max: 113.35036
</span><span style="color: #555555;">#</span><span>   project success: min: 0.70247, max: 1
</span><span style="color: #555555;">#</span><span>   objective:       Minimum set objective 
</span><span style="color: #555555;">#</span><span>   targets:         Absolute targets [targets (min: 0.99, max: 0.99)]
</span><span style="color: #555555;">#</span><span>   weights:         default
</span><span style="color: #555555;">#</span><span>   decisions        Binary decision 
</span><span style="color: #555555;">#</span><span>   constraints:     &lt;none&gt;
</span><span style="color: #555555;">#</span><span>   solver:          default
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># attempt to solve problem, but this will throw an error</span>
s5 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/solve.html">solve</a></span>(p5)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> Gurobi Optimizer version 9.0.1 build v9.0.1rc0 (linux64)
</span><span style="color: #555555;">#</span><span> Optimize a model with 4068 rows, 2942 columns and 10690 nonzeros
</span><span style="color: #555555;">#</span><span> Model fingerprint: 0xa60a2b7f
</span><span style="color: #555555;">#</span><span> Variable types: 0 continuous, 2942 integer (2942 binary)
</span><span style="color: #555555;">#</span><span> Coefficient statistics:
</span><span style="color: #555555;">#</span><span>   Matrix range     [8e-02, 1e+00]
</span><span style="color: #555555;">#</span><span>   Objective range  [9e+01, 1e+02]
</span><span style="color: #555555;">#</span><span>   Bounds range     [1e+00, 1e+00]
</span><span style="color: #555555;">#</span><span>   RHS range        [1e+00, 1e+00]
</span><span style="color: #555555;">#</span><span> Presolve time: 0.00s
</span><span style="color: #555555;">#</span><span> 
</span><span style="color: #555555;">#</span><span> Explored 0 nodes (0 simplex iterations) in 0.00 seconds
</span><span style="color: #555555;">#</span><span> Thread count was 1 (of 4 available processors)
</span><span style="color: #555555;">#</span><span> 
</span><span style="color: #555555;">#</span><span> Solution count 0
</span><span style="color: #555555;">#</span><span> 
</span><span style="color: #555555;">#</span><span> Model is infeasible
</span><span style="color: #555555;">#</span><span> Best objective -, best bound -, gap -
</span></code></pre>
</div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span style="color: #BB0000;"> Error in solve(p5): project prioritization problem is infeasible
</span></code></pre>
</div>
<p>We received an error instead of a solution. If we read the error message, then we can see that it is telling us—perhaps rather tersely—that there are no valid solutions to the problem (i.e. the problem is infeasible), because some features simply cannot obtain an 99% probability of persistence given the range of conservation projects that are available. So, let’s see how much it would cost to ensure that every feature has a 60% chance of persistence.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># build problem</span>
p6 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/problem.html">problem</a></span>(<span class="dt">projects =</span> projects, <span class="dt">actions =</span> actions, <span class="dt">features =</span> features,
              <span class="st">"name"</span>, <span class="st">"success"</span>, <span class="st">"name"</span>, <span class="st">"cost"</span>, <span class="st">"name"</span>) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_min_set_objective.html">add_min_set_objective</a></span>() <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_absolute_targets.html">add_absolute_targets</a></span>(<span class="fl">0.60</span>) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw"><a href="../reference/add_binary_decisions.html">add_binary_decisions</a></span>()

<span class="co"># print problem</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(p6)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> Project Prioritization Problem
</span><span style="color: #555555;">#</span><span>   actions          action_1, action_2, action_3, ... (31 actions)
</span><span style="color: #555555;">#</span><span>   projects         project_1, project_2, project_3, ... (71 projects)
</span><span style="color: #555555;">#</span><span>   features         F1, F2, F3, ... (40 features)
</span><span style="color: #555555;">#</span><span>   action costs:    min: 0, max: 113.35036
</span><span style="color: #555555;">#</span><span>   project success: min: 0.70247, max: 1
</span><span style="color: #555555;">#</span><span>   objective:       Minimum set objective 
</span><span style="color: #555555;">#</span><span>   targets:         Absolute targets [targets (min: 0.6, max: 0.6)]
</span><span style="color: #555555;">#</span><span>   weights:         default
</span><span style="color: #555555;">#</span><span>   decisions        Binary decision 
</span><span style="color: #555555;">#</span><span>   constraints:     &lt;none&gt;
</span><span style="color: #555555;">#</span><span>   solver:          default
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># solve problem</span>
s6 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/solve.html">solve</a></span>(p6)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print solution</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(s6)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 1 x 146</span><span>
</span><span style="color: #555555;">#</span><span>   </span><span style="font-weight: bold;">solution</span><span> </span><span style="font-weight: bold;">status</span><span>   </span><span style="font-weight: bold;">obj</span><span>  </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">action_1</span><span> </span><span style="font-weight: bold;">action_2</span><span> </span><span style="font-weight: bold;">action_3</span><span> </span><span style="font-weight: bold;">action_4</span><span> </span><span style="font-weight: bold;">action_5</span><span>
</span><span style="color: #555555;">#</span><span>      </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">1</span><span>        1 OPTIM…  972.  972.        0        1        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 137 more variables: </span><span style="color: #555555;font-weight: bold;">action_6</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_8</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_10</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_12</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_14</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_16</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_20</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_22</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_24</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_26</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_28</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">baseline_action</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_3</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_4</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_6</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_7</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_10</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_11</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_14</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_16</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_17</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_20</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_22</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_23</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_26</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_28</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_29</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_31</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_32</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_33</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_34</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_35</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_36</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_37</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_38</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_39</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_40</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_41</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_42</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_43</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_44</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_45</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_46</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_47</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_48</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_49</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_50</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_51</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_52</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_53</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_54</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_55</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_56</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_57</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_58</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_59</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_60</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_61</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_62</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_63</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_64</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_65</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_66</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_67</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_68</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_69</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_70</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">baseline_project</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F3</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, …</span><span>
</span></code></pre>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># plot solution</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(p6, s6)</code></pre></div>
<p><img src="oppr_files/figure-html/unnamed-chunk-40-1.png" width="432" style="display: block; margin: auto;"></p>
</div>
<div id="benchmarking-conventional-algorithms" class="section level2">
<h2 class="hasAnchor">
<a href="#benchmarking-conventional-algorithms" class="anchor"></a>Benchmarking conventional algorithms</h2>
<p>Conventionally, heuristic algorithms have been used to develop project prioritizations <span class="citation">(e.g. Joseph <em>et al.</em> 2009; Bennett <em>et al.</em> 2014)</span>. Although solutions identified using these algorithms often perform better than solutions generated using using random processes <span class="citation">(e.g. randomly selecting actions for funding until a budget is met; Joseph <em>et al.</em> 2009)</span>, this is not an especially compelling benchmark. As talked about earlier, heuristic algorithms do not provide any guarantees on solution quality, and so should be avoided where possible <span class="citation">(Rodrigues &amp; Gaston 2002)</span>. To illustrate the pitfalls of relying on heuristic algorithms, let’s generate a portfolio of solutions using a backwards heuristic algorithm.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># set budgets for which to create multiple solutions</span>
budgets &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq">seq</a></span>(<span class="dv">0</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(actions<span class="op">$</span>cost), <span class="dt">length.out =</span> <span class="dv">100</span>)

<span class="co"># generate solutions using heuristic algorithms</span>
s7 &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">lapply</a></span>(budgets, <span class="cf">function</span>(b) {
  <span class="kw"><a href="../reference/problem.html">problem</a></span>(<span class="dt">projects =</span> projects, <span class="dt">actions =</span> actions, <span class="dt">features =</span> features,
          <span class="st">"name"</span>, <span class="st">"success"</span>, <span class="st">"name"</span>, <span class="st">"cost"</span>, <span class="st">"name"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/add_max_richness_objective.html">add_max_richness_objective</a></span>(<span class="dt">budget =</span> b) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/add_feature_weights.html">add_feature_weights</a></span>(<span class="st">"weight"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/add_binary_decisions.html">add_binary_decisions</a></span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/add_heuristic_solver.html">add_heuristic_solver</a></span>(<span class="dt">verbose =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/solve.html">solve</a></span>()
})
s7 &lt;-<span class="st"> </span><span class="kw"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/do.call">do.call</a></span>(rbind, s7))
s7<span class="op">$</span>budget &lt;-<span class="st"> </span>budgets

<span class="co"># print solutions</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(s7)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 100 x 147</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">solution</span><span> </span><span style="font-weight: bold;">status</span><span>    </span><span style="font-weight: bold;">obj</span><span>  </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">action_1</span><span> </span><span style="font-weight: bold;">action_2</span><span> </span><span style="font-weight: bold;">action_3</span><span> </span><span style="font-weight: bold;">action_4</span><span>
</span><span style="color: #555555;">#</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span>        1 </span><span style="color: #BB0000;">NA</span><span>     2.28</span><span style="color: #555555;">e</span><span>6   0          0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span>        1 </span><span style="color: #BB0000;">NA</span><span>     2.28</span><span style="color: #555555;">e</span><span>6   0          0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span>        1 </span><span style="color: #BB0000;">NA</span><span>     2.28</span><span style="color: #555555;">e</span><span>6   0          0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span>        1 </span><span style="color: #BB0000;">NA</span><span>     2.28</span><span style="color: #555555;">e</span><span>6   0          0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span>        1 </span><span style="color: #BB0000;">NA</span><span>     4.51</span><span style="color: #555555;">e</span><span>6  99.4        0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span>        1 </span><span style="color: #BB0000;">NA</span><span>     4.51</span><span style="color: #555555;">e</span><span>6  99.4        0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span>        1 </span><span style="color: #BB0000;">NA</span><span>     4.51</span><span style="color: #555555;">e</span><span>6  99.4        0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span>        1 </span><span style="color: #BB0000;">NA</span><span>     4.51</span><span style="color: #555555;">e</span><span>6  99.4        0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span>        1 </span><span style="color: #BB0000;">NA</span><span>     4.51</span><span style="color: #555555;">e</span><span>6  99.4        0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span>        1 </span><span style="color: #BB0000;">NA</span><span>     4.51</span><span style="color: #555555;">e</span><span>6  99.4        0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 90 more rows, and 139 more variables: </span><span style="color: #555555;font-weight: bold;">action_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_6</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_10</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_14</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_16</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_18</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_20</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_22</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_26</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_28</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_30</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">baseline_action</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_2</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_3</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_4</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_6</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_10</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_13</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_14</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_16</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_19</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_20</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_22</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_25</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_26</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_28</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_31</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_32</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_33</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_34</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_35</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_36</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_37</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_38</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_39</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_40</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_41</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_42</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_43</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_44</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_45</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_46</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_47</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_48</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_49</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_50</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_51</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_52</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_53</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_54</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_55</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_56</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_57</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_58</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_59</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_60</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_61</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_62</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_63</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_64</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_65</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_66</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_67</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_68</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_69</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_70</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">baseline_project</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, …</span><span>
</span></code></pre>
</div>
<p>Now let’s generate a portfolio of solutions using random processes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># generate random solutions under the various budgets and store</span>
<span class="co"># the objective value of the best and worst solutions</span>
s8 &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">lapply</a></span>(budgets, <span class="cf">function</span>(b) {
  o &lt;-<span class="st"> </span><span class="kw"><a href="../reference/problem.html">problem</a></span>(<span class="dt">projects =</span> projects, <span class="dt">actions =</span> actions, <span class="dt">features =</span> features,
              <span class="st">"name"</span>, <span class="st">"success"</span>, <span class="st">"name"</span>, <span class="st">"cost"</span>, <span class="st">"name"</span>) <span class="op">%&gt;%</span>
<span class="st">       </span><span class="kw"><a href="../reference/add_max_richness_objective.html">add_max_richness_objective</a></span>(<span class="dt">budget =</span> b) <span class="op">%&gt;%</span>
<span class="st">       </span><span class="kw"><a href="../reference/add_feature_weights.html">add_feature_weights</a></span>(<span class="st">"weight"</span>) <span class="op">%&gt;%</span>
<span class="st">       </span><span class="kw"><a href="../reference/add_binary_decisions.html">add_binary_decisions</a></span>() <span class="op">%&gt;%</span>
<span class="st">       </span><span class="kw"><a href="../reference/add_random_solver.html">add_random_solver</a></span>(<span class="dt">verbose =</span> <span class="ot">FALSE</span>, <span class="dt">number_solutions =</span> <span class="dv">100</span>) <span class="op">%&gt;%</span>
<span class="st">       </span><span class="kw"><a href="../reference/solve.html">solve</a></span>()
  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">budget =</span> b, <span class="dt">min_obj =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Extremes">min</a></span>(o<span class="op">$</span>obj), <span class="dt">max_obj =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Extremes">max</a></span>(o<span class="op">$</span>obj))
})
s8 &lt;-<span class="st"> </span><span class="kw"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/do.call">do.call</a></span>(rbind, s8))

<span class="co"># print solutions</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(s8)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 100 x 3</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">budget</span><span>  </span><span style="font-weight: bold;">min_obj</span><span>  </span><span style="font-weight: bold;">max_obj</span><span>
</span><span style="color: #555555;">#</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span>    0   2</span><span style="text-decoration: underline;">284</span><span>593. 2</span><span style="text-decoration: underline;">284</span><span>593.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span>   30.1 2</span><span style="text-decoration: underline;">284</span><span>593. 2</span><span style="text-decoration: underline;">284</span><span>593.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span>   60.1 2</span><span style="text-decoration: underline;">284</span><span>593. 2</span><span style="text-decoration: underline;">284</span><span>593.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span>   90.2 2</span><span style="text-decoration: underline;">284</span><span>593. 2</span><span style="text-decoration: underline;">284</span><span>593.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span>  120.  4</span><span style="text-decoration: underline;">513</span><span>353. 4</span><span style="text-decoration: underline;">513</span><span>353.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span>  150.  4</span><span style="text-decoration: underline;">513</span><span>353. 4</span><span style="text-decoration: underline;">513</span><span>353.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span>  180.  4</span><span style="text-decoration: underline;">513</span><span>353. 4</span><span style="text-decoration: underline;">513</span><span>353.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span>  211.  2</span><span style="text-decoration: underline;">284</span><span>651. 4</span><span style="text-decoration: underline;">513</span><span>353.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span>  241.  2</span><span style="text-decoration: underline;">284</span><span>651. 4</span><span style="text-decoration: underline;">513</span><span>353.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span>  271.  2</span><span style="text-decoration: underline;">284</span><span>651. 4</span><span style="text-decoration: underline;">513</span><span>353.
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 90 more rows</span><span>
</span></code></pre>
</div>
<p>Now we can visualize how well the solutions identified using the heuristic algorithm compare to solutions generated using random processes. In the plot below, the orange line shows the performance of solutions generated using the heuristic algorithm, and the blue ribbon shows the performance of the best and worst solutions generated using random processes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># make plot</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>() <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_ribbon</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> budget, <span class="dt">ymin =</span> min_obj, <span class="dt">ymax =</span> max_obj), <span class="dt">data =</span> s8,
            <span class="dt">color =</span> <span class="st">"#3366FF26"</span>, <span class="dt">fill =</span> <span class="st">"#3366FF26"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_step</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> budget, <span class="dt">y =</span> obj), <span class="dt">data =</span> s7, <span class="dt">color =</span> <span class="st">"orange"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Budget available ($)"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Expected richness (objective function)"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">axis.text.y =</span> <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">vjust =</span> <span class="dv">1</span>))</code></pre></div>
<p><img src="oppr_files/figure-html/unnamed-chunk-43-1.png" width="432" style="display: block; margin: auto;"></p>
<p>Here, we can see the that heuristic algorithm generally performs better than funding conservation projects using random processes. We can also see that for some budgets, the heuristic algorithm returns a worse solution (i.e. has a lower objective value) then solutions it found for lower budgets (i.e. where there is a step down in the orange line). Unfortunately, this behavior is normal because heuristic algorithms often deliver suboptimal solutions and the degree of suboptimality often varies depending on the budget. Despite these occasional drops in solution quality, you might be tempted to think that these results show that heuristic algorithms can perform pretty well on balance. But we can do better. Let’s generate a series of solutions using exact algorithms.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># generate solutions</span>
s9 &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">lapply</a></span>(budgets, <span class="cf">function</span>(b) {
  <span class="kw"><a href="../reference/problem.html">problem</a></span>(<span class="dt">projects =</span> projects, <span class="dt">actions =</span> actions, <span class="dt">features =</span> features,
          <span class="st">"name"</span>, <span class="st">"success"</span>, <span class="st">"name"</span>, <span class="st">"cost"</span>, <span class="st">"name"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/add_max_richness_objective.html">add_max_richness_objective</a></span>(<span class="dt">budget =</span> b) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/add_feature_weights.html">add_feature_weights</a></span>(<span class="st">"weight"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/add_binary_decisions.html">add_binary_decisions</a></span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/add_default_solver.html">add_default_solver</a></span>(<span class="dt">verbose =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/solve.html">solve</a></span>()
})
s9 &lt;-<span class="st"> </span><span class="kw"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/do.call">do.call</a></span>(rbind, s9))
s9<span class="op">$</span>budget &lt;-<span class="st"> </span>budgets

<span class="co"># print solutions</span>
<span class="kw"><a href="../reference/print.html">print</a></span>(s9)</code></pre></div>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode"><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># A tibble: 100 x 147</span><span>
</span><span style="color: #555555;">#</span><span>    </span><span style="font-weight: bold;">solution</span><span> </span><span style="font-weight: bold;">status</span><span>    </span><span style="font-weight: bold;">obj</span><span>  </span><span style="font-weight: bold;">cost</span><span> </span><span style="font-weight: bold;">action_1</span><span> </span><span style="font-weight: bold;">action_2</span><span> </span><span style="font-weight: bold;">action_3</span><span> </span><span style="font-weight: bold;">action_4</span><span>
</span><span style="color: #555555;">#</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 1</span><span>        1 OPTIM… 2.28</span><span style="color: #555555;">e</span><span>6   0          0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 2</span><span>        1 OPTIM… 2.28</span><span style="color: #555555;">e</span><span>6   0          0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 3</span><span>        1 OPTIM… 2.28</span><span style="color: #555555;">e</span><span>6   0          0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 4</span><span>        1 OPTIM… 2.28</span><span style="color: #555555;">e</span><span>6   0          0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 5</span><span>        1 OPTIM… 4.51</span><span style="color: #555555;">e</span><span>6  99.4        0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 6</span><span>        1 OPTIM… 4.51</span><span style="color: #555555;">e</span><span>6  99.4        0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 7</span><span>        1 OPTIM… 4.51</span><span style="color: #555555;">e</span><span>6  99.4        0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 8</span><span>        1 OPTIM… 4.51</span><span style="color: #555555;">e</span><span>6  99.4        0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"> 9</span><span>        1 OPTIM… 4.51</span><span style="color: #555555;">e</span><span>6  99.4        0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;">10</span><span>        1 OPTIM… 4.51</span><span style="color: #555555;">e</span><span>6  99.4        0        0        0        0
</span><span style="color: #555555;">#</span><span> </span><span style="color: #555555;"># … with 90 more rows, and 139 more variables: </span><span style="color: #555555;font-weight: bold;">action_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_6</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_10</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_13</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_14</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_16</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_18</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_19</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_20</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_22</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_25</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_26</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_28</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">action_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">action_30</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">baseline_action</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_2</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_3</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_4</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_5</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_6</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_7</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_8</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_9</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_10</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_11</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_12</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_13</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_14</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_15</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_16</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_17</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_18</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_19</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_20</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_21</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_22</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_23</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_24</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_25</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_26</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_27</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_28</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_29</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_30</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_31</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_32</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_33</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_34</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_35</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_36</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_37</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_38</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_39</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_40</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_41</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_42</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_43</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_44</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_45</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_46</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_47</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_48</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_49</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_50</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_51</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_52</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_53</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_54</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_55</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_56</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_57</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_58</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_59</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_60</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_61</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_62</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_63</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_64</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_65</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_66</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_67</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_68</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">project_69</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">,
#</span><span> #   </span><span style="font-weight: bold;">project_70</span><span> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">baseline_project</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F1</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, </span><span style="color: #555555;font-weight: bold;">F2</span><span style="color: #555555;"> </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span style="color: #555555;">, …</span><span>
</span></code></pre>
</div>
<p>Now let’s redraw the previous graph and add a red line to the plot to represent the solutions generated using the exact algorithm solver.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># make plot</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>() <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_ribbon</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> budget, <span class="dt">ymin =</span> min_obj, <span class="dt">ymax =</span> max_obj), <span class="dt">data =</span> s8,
            <span class="dt">color =</span> <span class="st">"#3366FF26"</span>, <span class="dt">fill =</span> <span class="st">"#3366FF26"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_step</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> budget, <span class="dt">y =</span> obj), <span class="dt">data =</span> s7, <span class="dt">color =</span> <span class="st">"orange"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_step</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> budget, <span class="dt">y =</span> obj), <span class="dt">data =</span> s9, <span class="dt">color =</span> <span class="st">"red"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Budget available ($)"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Expected richness (objective function)"</span>) <span class="op">+</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">axis.text.y =</span> <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="fl">0.5</span>, <span class="dt">vjust =</span> <span class="dv">1</span>))</code></pre></div>
<p><img src="oppr_files/figure-html/unnamed-chunk-45-1.png" width="432" style="display: block; margin: auto;"></p>
<p>So, we can see that the exact algorithm solver performs much better than heuristic algorithms—even if heuristic algorithms perform better than random on average.</p>
</div>
<div id="conclusion" class="section level2">
<h2 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h2>
<p>Hopefully, this tutorial has been useful. For more information and examples on using any of the functions presented in this tutorial, please refer to this package’s documentation. For instance, you could learn about the mathematical formulations that underpin the objective functions (see <code><a href="../reference/add_max_richness_objective.html">?add_max_richness_objective</a></code>), how to lock in our lock out certain actions from the solutions (see <code><a href="../reference/constraints.html">?constraints</a></code>), or how to develop project prioritizations using phylogenies (see <code>?add_max_phylo_objective</code>). But perhaps one of the best ways to learn how to use a new piece of software is to just try it out. Test it, try breaking it, make mistakes, and learn from them. We would recommend generating project prioritizations using simulated datasets (see <code><a href="../reference/simulate_ptm_data.html">?simulate_ptm_data</a></code> and <code><a href="../reference/simulate_ppp_data.html">?simulate_ppp_data</a></code>) and seeing if the solutions line up with what you expect. This way you can quickly verify that the problems you build actually mean what you think they mean. For instance, you can try playing around with the targets and see what effect they have on the solutions, or try playing around with weights and see what effect they have on the solutions.</p>
<p>Finally, if you have any questions about using the <em>oppr R</em> package or suggestions for improving its documentation or functionality (especially this tutorial), please post an issue on this package’s online coding repository (<a href="https://github.com/prioritizr/oppr/issues" class="uri">https://github.com/prioritizr/oppr/issues</a>).</p>
</div>
</div>
<div id="citation" class="section level1">
<h1 class="hasAnchor">
<a href="#citation" class="anchor"></a>Citation</h1>
<div class="sourceCode">
<pre class="sourceCode"><code class="sourceCode">
To cite the oppr package in publications, please use:

  Hanson JO, Schuster R, Strimas-Mackey M &amp; Bennett JR (2019)
  Optimality in prioritizing conservation projects. Methods in
  Ecology &amp; Evolution, 10: 1655--1663.

  Hanson JO, Schuster R, Strimas-Mackey M, Bennett J (2020) oppr:
  Optimal Project Prioritization R package version 1.0.1.
  https://CRAN.R-project.org/package=oppr

To see these entries in BibTeX format, use 'print(&lt;citation&gt;,
bibtex=TRUE)', 'toBibtex(.)', or set
'options(citation.bibtex.max=999)'.
</code></pre>
</div>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-r19">
<p>Ball, I.R., Possingham, H.P. &amp; Watts, M. (2009). Marxan and relatives: Software for spatial conservation prioritisation. <em>Spatial conservation prioritisation: Quantitative methods and computational tools</em>, pp. 185–195. Oxford University Press Oxford.</p>
</div>
<div id="ref-r4">
<p>Bennett, J.R., Elliott, G., Mellish, B., Joseph, L.N., Tulloch, A.I., Probert, W.J., Di Fonzo, M.M., Monks, J.M., Possingham, H.P. &amp; Maloney, R. (2014). Balancing phylogenetic diversity and species numbers in conservation prioritizat, using a case study of threatened species in New Zealand. <em>Biological Conservation</em>, <em>174</em>, 47–54.</p>
</div>
<div id="ref-r21">
<p>Beyer, H.L., Dujardin, Y., Watts, M.E. &amp; Possingham, H.P. (2016). Solving conservation planning problems with integer linear programming. <em>Ecological Modelling</em>, <em>328</em>, 14–22.</p>
</div>
<div id="ref-r24">
<p>Carwardine, J., Klein, C.J., Wilson, K.A., Pressey, R.L. &amp; Possingham, H.P. (2009). Hitting the target and missing the point: Target-based conservation planning in context. <em>Conservation Letters</em>, <em>2</em>, 4–11.</p>
</div>
<div id="ref-r18">
<p>Carwardine, J., Martin, T.G., Firn, J., Reyes, R.P., Nicol, S., Reeson, A., Grantham, H.S., Stratford, D., Kehoe, L. &amp; Chadès, I. (2018). Priority Threat Management for biodiversity conservation: A handbook. <em>Journal of Applied Ecology</em>, <em>In press</em>, DOI: 10.1111/1365–2664.13268.</p>
</div>
<div id="ref-r26">
<p>Carwardine, J., Rochester, W., Richardson, K., Williams, K.J., Pressey, R. &amp; Possingham, H. (2007). Conservation planning with irreplaceability: Does the method matter? <em>Biodiversity and Conservation</em>, <em>16</em>, 245–258.</p>
</div>
<div id="ref-r5">
<p>Chadés, I., Nicol, S., Leeuwen, S. van, Walters, B., Firn, J., Reeson, A., Martin, T.G. &amp; Carwardine, J. (2015). Benefits of integrating complementarity into priority threat management. <em>Conservation Biology</em>, <em>29</em>, 525–536.</p>
</div>
<div id="ref-r28">
<p>Di Fonzo, M.M., Possingham, H.P., Probert, W.J., Bennett, J.R., Joseph, L.N., Tulloch, A.I., O’Connor, S., Densem, J. &amp; Maloney, R.F. (2016). Evaluating trade-offs between target persistence levels and numbers of species conserved. <em>Conservation Letters</em>, <em>9</em>, 51–57.</p>
</div>
<div id="ref-r11">
<p>Gerber, L.R., Runge, M.C., Maloney, R.F., Iacona, G.D., Drew, C.A., Avery-Gomm, S., Brazill-Boast, J., Crouse, D., Epanchin-Niell, R.S., Hall, S.B. &amp; others. (2018). Endangered species recovery: A resource allocation problem. <em>Science</em>, <em>362</em>, 284–286.</p>
</div>
<div id="ref-r3">
<p>Joseph, L.N., Maloney, R.F. &amp; Possingham, H.P. (2009). Optimal allocation of resources among threatened species: A project prioritization protocol. <em>Conservation Biology</em>, <em>23</em>, 328–338.</p>
</div>
<div id="ref-r25">
<p>Kirkpatrick, J. (1983). An iterative method for establishing priorities for the selection of nature reserves: An example from tasmania. <em>Biological Conservation</em>, <em>25</em>, 127–134.</p>
</div>
<div id="ref-r22">
<p>Kirkpatrick, S., Gelatt, C.D. &amp; Vecchi, M.P. (1983). Optimization by simulated annealing. <em>Science</em>, <em>220</em>, 671–680.</p>
</div>
<div id="ref-r27">
<p>Kukkala, A.S. &amp; Moilanen, A. (2013). Core concepts of spatial prioritisation in systematic conservation planning. <em>Biological Reviews</em>, <em>88</em>, 443–464.</p>
</div>
<div id="ref-r29">
<p>Martin, T.G., Kehoe, L., Mantyka-Pringle, C., Chades, I., Wilson, S., Bloom, R.G., Davis, S.K., Fisher, R., Keith, J., Mehl, K. &amp; others. (2018). Prioritizing recovery funding to maximize conservation of endangered species. <em>Conservation Letters</em>, <em>11</em>, e12604.</p>
</div>
<div id="ref-r20">
<p>Moilanen, A., Arponen, A., Stokland, J.N. &amp; Cabeza, M. (2009). Assessing replacement cost of conservation areas: How does habitat loss influence priorities? <em>Biological Conservation</em>, <em>142</em>, 575–585.</p>
</div>
<div id="ref-r13">
<p>Rodrigues, A.S. &amp; Gaston, K.J. (2002). Optimisation in reserve selection procedures—why not? <em>Biological Conservation</em>, <em>107</em>, 123–129.</p>
</div>
<div id="ref-r12">
<p>Underhill, L. (1994). Optimal and suboptimal reserve selection algorithms. <em>Biological Conservation</em>, <em>70</em>, 85–87.</p>
</div>
<div id="ref-r23">
<p>Vane-Wright, R.I., Humphries, C.J. &amp; Williams, P.H. (1991). What to protect?—Systematics and the agony of choice. <em>Biological Conservation</em>, <em>55</em>, 235–254.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#overview">Overview</a></li>
      <li>
<a href="#tutorial">Tutorial</a><ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#data-simulation">Data simulation</a></li>
      <li><a href="#prioritizations-with-exact-algorithms">Prioritizations with exact algorithms</a></li>
      <li><a href="#assessing-action-importance">Assessing action importance</a></li>
      <li><a href="#complementarity-in-project-prioritizations">Complementarity in project prioritizations</a></li>
      <li><a href="#benchmarking-conventional-algorithms">Benchmarking conventional algorithms</a></li>
      <li><a href="#conclusion">Conclusion</a></li>
      </ul>
</li>
      <li><a href="#citation">Citation</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://jeffrey-hanson.com">Jeffrey O Hanson</a>, <a href="http://www.richard-schuster.com/">Richard Schuster</a>, <a href="http://strimas.com">Matthew Strimas-Mackey</a>, Joseph Bennett.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
