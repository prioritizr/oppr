<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simulate data for 'Priority threat management' — simulate_ptm_data • oppr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Simulate data for 'Priority threat management' — simulate_ptm_data" />
<meta property="og:description" content="Simulate data for developing project prioritizations for a priority threat
management exercise (Carwardine et al. 2019). Here, data are
simulated for a pre-specified number of features, actions, and projects.
Features can benefit from multiple projects, and different projects can
share actions." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



<!-- dependencies from examples -->


  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oppr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/oppr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/prioritizr/oppr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate data for 'Priority threat management'</h1>
    <small class="dont-index">Source: <a href='https://github.com/prioritizr/oppr/blob/master/R/simulate_ptm_data.R'><code>R/simulate_ptm_data.R</code></a></small>
    <div class="hidden name"><code>simulate_ptm_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Simulate data for developing project prioritizations for a priority threat
management exercise (Carwardine <em>et al.</em> 2019). Here, data are
simulated for a pre-specified number of features, actions, and projects.
Features can benefit from multiple projects, and different projects can
share actions.</p>
    </div>

    <pre class="usage"><span class='fu'>simulate_ptm_data</span><span class='op'>(</span>
  <span class='va'>number_projects</span>,
  <span class='va'>number_actions</span>,
  <span class='va'>number_features</span>,
  cost_mean <span class='op'>=</span> <span class='fl'>100</span>,
  cost_sd <span class='op'>=</span> <span class='fl'>5</span>,
  success_min_probability <span class='op'>=</span> <span class='fl'>0.7</span>,
  success_max_probability <span class='op'>=</span> <span class='fl'>0.99</span>,
  funded_min_persistence_probability <span class='op'>=</span> <span class='fl'>0.5</span>,
  funded_max_persistence_probability <span class='op'>=</span> <span class='fl'>0.9</span>,
  baseline_min_persistence_probability <span class='op'>=</span> <span class='fl'>0.01</span>,
  baseline_max_persistence_probability <span class='op'>=</span> <span class='fl'>0.4</span>,
  locked_in_proportion <span class='op'>=</span> <span class='fl'>0</span>,
  locked_out_proportion <span class='op'>=</span> <span class='fl'>0</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>number_projects</th>
      <td><p><code>numeric</code> number of projects. Note that this
does not include the baseline project.</p></td>
    </tr>
    <tr>
      <th>number_actions</th>
      <td><p><code>numeric</code> number of actions. Note that this
does not include the baseline action.</p></td>
    </tr>
    <tr>
      <th>number_features</th>
      <td><p><code>numeric</code> number of features.</p></td>
    </tr>
    <tr>
      <th>cost_mean</th>
      <td><p><code>numeric</code> average cost for the actions. Defaults to
<code>100</code>.</p></td>
    </tr>
    <tr>
      <th>cost_sd</th>
      <td><p><code>numeric</code> standard deviation in action costs. Defaults
to <code>5</code>.</p></td>
    </tr>
    <tr>
      <th>success_min_probability</th>
      <td><p><code>numeric</code> minimum probability of the
projects succeeding if they are funded. Defaults to <code>0.7</code>.</p></td>
    </tr>
    <tr>
      <th>success_max_probability</th>
      <td><p><code>numeric</code> maximum probability of the
projects succeeding if they are funded. Defaults to <code>0.99</code>.</p></td>
    </tr>
    <tr>
      <th>funded_min_persistence_probability</th>
      <td><p><code>numeric</code> minimum probability
of the features persisting if projects are funded and successful.
Defaults to <code>0.5</code>.</p></td>
    </tr>
    <tr>
      <th>funded_max_persistence_probability</th>
      <td><p><code>numeric</code> maximum probability
of the features persisting if projects are funded and successful.
Defaults to <code>0.9</code>.</p></td>
    </tr>
    <tr>
      <th>baseline_min_persistence_probability</th>
      <td><p><code>numeric</code> minimum
probability of the features persisting if only the baseline project
is funded. Defaults to <code>0.01</code>.</p></td>
    </tr>
    <tr>
      <th>baseline_max_persistence_probability</th>
      <td><p><code>numeric</code> maximum
probability of the features persisting if only the baseline project is
funded. Defaults to <code>0.4</code>.</p></td>
    </tr>
    <tr>
      <th>locked_in_proportion</th>
      <td><p><code>numeric</code> of actions that are locked
into the solution. Defaults to <code>0</code>.</p></td>
    </tr>
    <tr>
      <th>locked_out_proportion</th>
      <td><p><code>numeric</code> of actions that are locked
into the solution. Defaults to <code>0</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>list</code> object containing the elements:</p>
<dl>
<dt><code>"projects"</code></dt><dd><p>A <code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble::tibble()</a></code> containing
the data for the conservation projects. It contains the following
columns:
<dl>
<dt><code>"name"</code></dt><dd><p><code>character</code> name for each project.</p></dd>
<dt><code>"success"</code></dt><dd><p><code>numeric</code> probability of each project
succeeding if it is funded.</p></dd>
<dt><code>"F1"</code> ... <code>"FN"</code></dt><dd><p><code>numeric</code> columns for each
feature, ranging from <code>"F1"</code> to <code>"FN"</code> where <code>N</code>
is the number of features, indicating the enhanced probability that
each feature will persist if it funded. Missing values (<code>NA</code>)
indicate that a feature does not benefit from a project being
funded.</p></dd>
<dt><code>"F1_action"</code> ... <code>"FN_action"</code></dt><dd><p><code>logical</code>
columns for each action, ranging from <code>"F1_action"</code> to
<code>"FN_action"</code> where <code>N</code> is
the number of actions (equal to the number of features in this
simulated data), indicating if an action is associated with a
project (<code>TRUE</code>) or not (<code>FALSE</code>).</p></dd>
<dt><code>"baseline_action"</code></dt><dd><p><code>logical</code>
column indicating if a project is associated with the baseline
action (<code>TRUE</code>) or not (<code>FALSE</code>). This action is only
associated with the baseline project.</p></dd></dl></p></dd>
<dt><code>"actions"</code></dt><dd><p>A <code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble::tibble()</a></code> containing
the data for the conservation actions. It contains the following
columns:
<dl>
<dt><code>"name"</code></dt><dd><p><code>character</code> name for each action.</p></dd>
<dt><code>"cost"</code></dt><dd><p><code>numeric</code> cost for each action.</p></dd>
<dt><code>"locked_in"</code></dt><dd><p><code>logical</code> indicating if certain
actions should be locked into the solution.</p></dd>
<dt><code>"locked_out"</code></dt><dd><p><code>logical</code> indicating if certain
actions should be locked out of the solution.</p></dd></dl></p></dd>
<dt><code>"features"</code></dt><dd><p>A <code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble::tibble()</a></code> containing
the data for the conservation features (e.g. species). It contains the
following columns:
<dl>
<dt><code>"name"</code></dt><dd><p><code>character</code> name for each feature.</p></dd>
<dt><code>"weight"</code></dt><dd><p><code>numeric</code> weight for each feature.
For each feature, this is calculated as the amount of time that
elapsed between the present and the features' last common ancestor.
In other words, the weights are calculated as the unique amount
of evolutionary history that each feature has experienced.</p></dd></dl></p></dd>
<dt>"tree"</dt><dd><p><code><a href='https://rdrr.io/pkg/ape/man/read.tree.html'>ape::phylo()</a></code> phylogenetic tree for the
features.</p></dd>

</dl>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The simulated data set will contain one conservation project for
each features, and also a "baseline" (do nothing) project to reflect
features' persistence when their conservation project is not
funded. Each conservation project is associated with a single action, and
no conservation projects share any actions. Specifically, the data are
simulated as follows:</p>
<ol>
<li><p>A specified number of conservation projects, features, and
management actions are created.</p></li>
<li><p>Cost data for each action are simulated using a normal
distribution and the <code>cost_mean</code> and <code>cost_sd</code> arguments.</p></li>
<li><p>A set proportion of the actions are randomly set to be locked
in and out of the solutions using the <code>locked_in_proportion</code> and
<code>locked_out_proportion</code> arguments.</p></li>
<li><p>The probability of each project succeeding if its action is funded
is simulated by drawing probabilities from a uniform distribution with
the upper and lower bounds set as the <code>success_min_probability</code>
and <code>success_max_probability</code> arguments.</p></li>
<li><p>The probability of each feature persisting if various projects
are funded and is successful is simulated by drawing probabilities
from a uniform distribution with the upper and lower bounds set as the
<code>funded_min_persistence_probability</code> and
<code>funded_max_persistence_probability</code> arguments. To prevent</p></li>
<li><p>An additional project is created which represents the "baseline"
(do nothing) scenario. The probability of each feature persisting
when managed under this project is simulated by drawing probabilities
from a uniform distribution with the upper and lower bounds
set as the <code>baseline_min_persistence_probability</code>
and <code>baseline_max_persistence_probability</code> arguments.</p></li>
<li><p>A phylogenetic tree is simulated for the features using
<code><a href='https://rdrr.io/pkg/ape/man/rtree.html'>ape::rcoal()</a></code>.</p></li>
<li><p>Feature data are created from the phylogenetic tree. The
weights are calculated as the amount of evolutionary history
that has elapsed between each feature and its last common ancestor.</p></li>
</ol>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Carwardine J, Martin TG, Firn J, Ponce-Reyes P, Nicol S, Reeson A,
Grantham HS, Stratford D, Kehoe L, Chades I (2019) Priority Threat
Management for biodiversity conservation: A handbook.
<em>Journal of Applied Ecology</em>,
<strong>In press</strong>: <a href='https://doi.org/10.1111/1365-2664.13268'>https://doi.org/10.1111/1365-2664.13268</a>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='simulate_ppp_data.html'>simulate_ppp_data()</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># create a simulated data set</span>
<span class='va'>s</span> <span class='op'>&lt;-</span> <span class='fu'>simulate_ptm_data</span><span class='op'>(</span>number_projects <span class='op'>=</span> <span class='fl'>6</span>,
                       number_actions <span class='op'>=</span> <span class='fl'>8</span>,
                       number_features <span class='op'>=</span> <span class='fl'>5</span>,
                       cost_mean <span class='op'>=</span> <span class='fl'>100</span>,
                       cost_sd <span class='op'>=</span> <span class='fl'>5</span>,
                       success_min_probability <span class='op'>=</span> <span class='fl'>0.7</span>,
                       success_max_probability <span class='op'>=</span> <span class='fl'>0.99</span>,
                       funded_min_persistence_probability <span class='op'>=</span> <span class='fl'>0.5</span>,
                       funded_max_persistence_probability <span class='op'>=</span> <span class='fl'>0.9</span>,
                       baseline_min_persistence_probability <span class='op'>=</span> <span class='fl'>0.01</span>,
                       baseline_max_persistence_probability <span class='op'>=</span> <span class='fl'>0.4</span>,
                       locked_in_proportion <span class='op'>=</span> <span class='fl'>0.01</span>,
                       locked_out_proportion <span class='op'>=</span> <span class='fl'>0.01</span><span class='op'>)</span>

<span class='co'># print data set</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='va'>s</span><span class='op'>)</span>
</div><div class='co'>#&gt; $projects
#&gt; <span style='color: #949494;'># A tibble: 7 x 16</span>
#&gt;   name    success      F1      F2     F3     F4    F5 action_1 action_2 action_3
#&gt;   <span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;lgl&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;lgl&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;lgl&gt;</span><span>   </span>
#&gt; <span style='color: #BCBCBC;'>1</span><span> projec…   0.931 </span><span style='color: #BB0000;'>NA</span><span>       0.533   0.606 </span><span style='color: #BB0000;'>NA</span><span>     0.878 TRUE     TRUE     TRUE    </span>
#&gt; <span style='color: #BCBCBC;'>2</span><span> projec…   0.899  0.691  </span><span style='color: #BB0000;'>NA</span><span>       0.668  0.509 0.889 TRUE     TRUE     TRUE    </span>
#&gt; <span style='color: #BCBCBC;'>3</span><span> projec…   0.867  0.644   0.544   0.845 </span><span style='color: #BB0000;'>NA</span><span>     0.547 TRUE     TRUE     TRUE    </span>
#&gt; <span style='color: #BCBCBC;'>4</span><span> projec…   0.892 </span><span style='color: #BB0000;'>NA</span><span>       0.791  </span><span style='color: #BB0000;'>NA</span><span>     </span><span style='color: #BB0000;'>NA</span><span>     0.666 TRUE     FALSE    TRUE    </span>
#&gt; <span style='color: #BCBCBC;'>5</span><span> projec…   0.876  0.556  </span><span style='color: #BB0000;'>NA</span><span>       0.755  0.837 0.800 TRUE     FALSE    FALSE   </span>
#&gt; <span style='color: #BCBCBC;'>6</span><span> projec…   0.932  0.517   0.894  </span><span style='color: #BB0000;'>NA</span><span>      0.520 0.663 TRUE     FALSE    TRUE    </span>
#&gt; <span style='color: #BCBCBC;'>7</span><span> baseli…   1      0.086</span><span style='text-decoration: underline;'>8</span><span>  0.069</span><span style='text-decoration: underline;'>2</span><span>  0.321  0.376 0.303 FALSE    FALSE    FALSE   </span>
#&gt; <span style='color: #949494;'># … with 6 more variables: action_4 &lt;lgl&gt;, action_5 &lt;lgl&gt;, action_6 &lt;lgl&gt;,</span>
#&gt; <span style='color: #949494;'>#   action_7 &lt;lgl&gt;, action_8 &lt;lgl&gt;, baseline_action &lt;lgl&gt;</span>
#&gt; 
#&gt; $actions
#&gt; <span style='color: #949494;'># A tibble: 9 x 4</span>
#&gt;   name             cost locked_in locked_out
#&gt;   <span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>           </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;lgl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;lgl&gt;</span><span>     </span>
#&gt; <span style='color: #BCBCBC;'>1</span><span> action_1        101.  FALSE     FALSE     </span>
#&gt; <span style='color: #BCBCBC;'>2</span><span> action_2         96.4 FALSE     FALSE     </span>
#&gt; <span style='color: #BCBCBC;'>3</span><span> action_3         96.3 FALSE     FALSE     </span>
#&gt; <span style='color: #BCBCBC;'>4</span><span> action_4         99.6 FALSE     FALSE     </span>
#&gt; <span style='color: #BCBCBC;'>5</span><span> action_5         95.7 TRUE      FALSE     </span>
#&gt; <span style='color: #BCBCBC;'>6</span><span> action_6         93.0 FALSE     FALSE     </span>
#&gt; <span style='color: #BCBCBC;'>7</span><span> action_7        109.  FALSE     FALSE     </span>
#&gt; <span style='color: #BCBCBC;'>8</span><span> action_8         90.4 FALSE     TRUE      </span>
#&gt; <span style='color: #BCBCBC;'>9</span><span> baseline_action   0   FALSE     FALSE     </span>
#&gt; 
#&gt; $features
#&gt; <span style='color: #949494;'># A tibble: 5 x 2</span>
#&gt;   name  weight
#&gt;   <span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span><span> F1     0.125</span>
#&gt; <span style='color: #BCBCBC;'>2</span><span> F2     0.125</span>
#&gt; <span style='color: #BCBCBC;'>3</span><span> F3     0.376</span>
#&gt; <span style='color: #BCBCBC;'>4</span><span> F4     0.724</span>
#&gt; <span style='color: #BCBCBC;'>5</span><span> F5     3.13 </span>
#&gt; 
#&gt; $tree
#&gt; 
#&gt; Phylogenetic tree with 5 tips and 4 internal nodes.
#&gt; 
#&gt; Tip labels:
#&gt;   F1, F2, F3, F4, F5
#&gt; 
#&gt; Rooted; includes branch lengths.
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by <a href="https://jeffrey-hanson.com" class="external-link">Jeffrey O Hanson</a>, <a href="http://www.richard-schuster.com" class="external-link">Richard Schuster</a>, <a href="http://strimas.com" class="external-link">Matthew Strimas-Mackey</a>, <a href="https://josephrbennett.wordpress.com" class="external-link">Joseph R Bennett</a>.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


