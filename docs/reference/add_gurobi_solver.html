<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Add a Gurobi solver — add_gurobi_solver • oppr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Add a Gurobi solver — add_gurobi_solver"><meta property="og:description" content="Specify that the Gurobi software should be used to solve a
project prioritization problem(). This function can also be
used to customize the behavior of the solver. In addition to the
Gurobi software suite, it also requires the gurobi package to
be installed."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oppr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/oppr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/prioritizr/oppr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add a <span class="pkg">Gurobi</span> solver</h1>
    <small class="dont-index">Source: <a href="https://github.com/prioritizr/oppr/blob/HEAD/R/add_gurobi_solver.R" class="external-link"><code>R/add_gurobi_solver.R</code></a></small>
    <div class="hidden name"><code>add_gurobi_solver.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Specify that the <em>Gurobi</em> software should be used to solve a
project prioritization <code><a href="problem.html">problem()</a></code>. This function can also be
used to customize the behavior of the solver. In addition to the
<em>Gurobi</em> software suite, it also requires the <span class="pkg">gurobi</span> package to
be installed.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_gurobi_solver</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  gap <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  number_solutions <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  solution_pool_method <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  time_limit <span class="op">=</span> <span class="va">.Machine</span><span class="op">$</span><span class="va">integer.max</span>,</span>
<span>  presolve <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  threads <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  first_feasible <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p><a href="ProjectProblem-class.html">ProjectProblem</a> object.</p></dd>


<dt>gap</dt>
<dd><p><code>numeric</code> gap to optimality. This gap is relative
and expresses the acceptable deviance from the optimal objective.
For example, a value of 0.01 will result in the solver stopping when
it has found a solution within 1% of optimality.
Additionally, a value of 0 will result in the solver stopping
when it has found an optimal solution.
The default value is 0.1 (i.e. 10% from optimality).</p></dd>


<dt>number_solutions</dt>
<dd><p><code>integer</code> number of solutions desired.
Defaults to 1. Note that the number of returned solutions can sometimes
be less than the argument to <code>number_solutions</code> depending on the
argument to <code>solution_pool_method</code>, for example if 100
solutions are requested but only 10 unique solutions exist, then only 10
solutions will be returned.</p></dd>


<dt>solution_pool_method</dt>
<dd><p><code>numeric</code> search method identifier that
determines how multiple solutions should be generated. Available search
modes for generating a portfolio of solutions include: <code>0</code>
recording all solutions identified whilst trying to find
a solution that is within the specified optimality gap, <code>1</code> finding
one solution within the optimality gap and a number of additional
solutions that are of any level of quality (such that the total number of
solutions is equal to <code>number_solutions</code>), and <code>2</code> finding a
specified number of solutions that are nearest to optimality. For more
information, see the <em>Gurobi</em> manual (i.e. <a href="https://docs.gurobi.com/projects/optimizer/en/current/reference/parameters.html#poolsearchmode" class="external-link">https://docs.gurobi.com/projects/optimizer/en/current/reference/parameters.html#poolsearchmode</a>). Defaults to 2.</p></dd>


<dt>time_limit</dt>
<dd><p><code>numeric</code> time limit in seconds to run the optimizer.
The solver will return the current best solution when this time limit is
exceeded.</p></dd>


<dt>presolve</dt>
<dd><p><code>integer</code> number indicating how intensively the
solver should try to simplify the problem before solving it. The default
value of 2 indicates to that the solver should be very aggressive in
trying to simplify the problem.</p></dd>


<dt>threads</dt>
<dd><p><code>integer</code> number of threads to use for the
optimization algorithm. The default value of 1 will result in only
one thread being used.</p></dd>


<dt>first_feasible</dt>
<dd><p><code>logical</code> should the first feasible solution be
be returned? If <code>first_feasible</code> is set to <code>TRUE</code>, the solver
will return the first solution it encounters that meets all the
constraints, regardless of solution quality. Note that the first feasible
solution is not an arbitrary solution, rather it is derived from the
relaxed solution, and is therefore often reasonably close to optimality.
Defaults to <code>FALSE</code>.</p></dd>


<dt>verbose</dt>
<dd><p><code>logical</code> should information be printed while solving
optimization problems?</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><a href="ProjectProblem-class.html">ProjectProblem</a> object with the solver added
to it.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><a href="https://www.gurobi.com" class="external-link"><em>Gurobi</em></a> is a
state-of-the-art commercial optimization software with an R package
interface. It is by far the fastest of the solvers supported by this
package, however, it is also the only solver that is not freely
available. That said, licenses are available to academics at no cost. The
<span class="pkg">gurobi</span> package is distributed with the <em>Gurobi</em> software suite.
This solver uses the <span class="pkg">gurobi</span> package to solve problems.</p>
<p>To install the <span class="pkg">gurobi</span> package, the
<a href="https://www.gurobi.com" class="external-link">Gurobi</a> optimization suite will first need to
be installed (see <a href="https://support.gurobi.com/hc/en-us/articles/4534161999889-How-do-I-install-Gurobi-Optimizer" class="external-link">https://support.gurobi.com/hc/en-us/articles/4534161999889-How-do-I-install-Gurobi-Optimizer</a> for instructions). Although
<a href="https://www.gurobi.com" class="external-link">Gurobi</a> is a commercial software, academics
can obtain a
<a href="https://www.gurobi.com/downloads/end-user-license-agreement-academic/" class="external-link">special license for no cost</a>. After installing the
<a href="https://www.gurobi.com" class="external-link">Gurobi</a> optimization suite, the <span class="pkg">gurobi</span>
package can then be installed (see <a href="https://support.gurobi.com/hc/en-us/articles/14462206790033-How-do-I-install-Gurobi-for-R" class="external-link">https://support.gurobi.com/hc/en-us/articles/14462206790033-How-do-I-install-Gurobi-for-R</a> for instructions).</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="solvers.html">solvers</a>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># load data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sim_projects</span>, <span class="va">sim_features</span>, <span class="va">sim_actions</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># build problem</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="problem.html">problem</a></span><span class="op">(</span><span class="va">sim_projects</span>, <span class="va">sim_actions</span>, <span class="va">sim_features</span>,</span></span>
<span class="r-in"><span>             <span class="st">"name"</span>, <span class="st">"success"</span>, <span class="st">"name"</span>, <span class="st">"cost"</span>, <span class="st">"name"</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>     <span class="fu"><a href="add_max_richness_objective.html">add_max_richness_objective</a></span><span class="op">(</span>budget <span class="op">=</span> <span class="fl">200</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>     <span class="fu"><a href="add_binary_decisions.html">add_binary_decisions</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># build another problem, and specify the Gurobi solver</span></span></span>
<span class="r-in"><span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="va">p1</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu">add_gurobi_solver</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># print problem</span></span></span>
<span class="r-in"><span><span class="fu"><a href="print.html">print</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Project Prioritization Problem</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   actions          F1_action, F2_action, F3_action, ... (6 actions)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   projects         F1_project, F2_project, F3_project, ... (6 projects)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   features         F1, F2, F3, ... (5 features)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   action costs:    min: 0, max: 103.22583</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   project success: min: 0.81379, max: 1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   objective:       Maximum richness objective [budget (200)]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   targets:         none</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   weights:         default</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   decisions        Binary decision </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   constraints:     &lt;none&gt;</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   solver:          Gurobi [first_feasible (0), gap (0), number_solutions (1), presolve (2), solution_pool_method (2), threads (1), time_limit (2147483647), time_limit (2147483647), verbose (1)]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># solve problem</span></span></span>
<span class="r-in"><span><span class="va">s2</span> <span class="op">&lt;-</span> <span class="fu"><a href="solve.html">solve</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter Username</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter LicenseID to value 2599748</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter TimeLimit to value 2147483647</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter MIPGap to value 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter NumericFocus to value 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter Presolve to value 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter Threads to value 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter PoolSolutions to value 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter PoolSearchMode to value 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Academic license - for non-commercial use only - expires 2025-12-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gurobi Optimizer version 12.0.2 build v12.0.2rc0 (linux64 - "Ubuntu 24.04.2 LTS")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CPU model: 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz, instruction set [SSE2|AVX|AVX2|AVX512]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thread count: 4 physical cores, 8 logical processors, using up to 1 threads</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Non-default parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TimeLimit  2147483647</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MIPGap  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LogToConsole  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NumericFocus  3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Presolve  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Threads  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PoolSolutions  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PoolSearchMode  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Optimize a model with 47 rows, 47 columns and 102 nonzeros</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model fingerprint: 0x193cb636</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable types: 0 continuous, 42 integer (42 binary)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Semi-Variable types: 5 continuous, 0 integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficient statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Matrix range     [9e-02, 1e+02]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Objective range  [1e+00, 1e+00]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Bounds range     [1e+00, 1e+00]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   RHS range        [1e+00, 2e+02]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Found heuristic solution: objective 1.4456093</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Presolve removed 16 rows and 12 columns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Presolve time: 0.00s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Presolved: 31 rows, 35 columns, 65 nonzeros</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable types: 0 continuous, 35 integer (35 binary)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Root relaxation presolved: 31 rows, 35 columns, 65 nonzeros</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Root relaxation: objective 2.190381e+00, 11 iterations, 0.00 seconds (0.00 work units)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Nodes    |    Current Node    |     Objective Bounds      |     Work</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> *    0     0               0       2.1903807    2.19038  0.00%     -    0s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Explored 1 nodes (11 simplex iterations) in 0.00 seconds (0.00 work units)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thread count was 1 (of 8 available processors)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Solution count 1: 2.19038 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> No other solutions better than 2.19038</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Optimal solution found (tolerance 0.00e+00)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Best objective 2.190380737245e+00, best bound 2.190380737245e+00, gap 0.0000%</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># print solution</span></span></span>
<span class="r-in"><span><span class="fu"><a href="print.html">print</a></span><span class="op">(</span><span class="va">s2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 21</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   solution status    obj  cost F1_action F2_action F3_action F4_action F5_action</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>        1 OPTIMAL  2.19  195.         1         1         0         0         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 12 more variables: baseline_action &lt;dbl&gt;, F1_project &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   F2_project &lt;dbl&gt;, F3_project &lt;dbl&gt;, F4_project &lt;dbl&gt;, F5_project &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   baseline_project &lt;dbl&gt;, F1 &lt;dbl&gt;, F2 &lt;dbl&gt;, F3 &lt;dbl&gt;, F4 &lt;dbl&gt;, F5 &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot solution</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p2</span>, <span class="va">s2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_gurobi_solver-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># build another problem and obtain multiple solutions</span></span></span>
<span class="r-in"><span><span class="co"># note that this problem doesn't have 100 unique solutions so</span></span></span>
<span class="r-in"><span><span class="co"># the solver won't return 100 solutions</span></span></span>
<span class="r-in"><span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="va">p1</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu">add_gurobi_solver</span><span class="op">(</span>number_solutions <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># print problem</span></span></span>
<span class="r-in"><span><span class="fu"><a href="print.html">print</a></span><span class="op">(</span><span class="va">p3</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Project Prioritization Problem</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   actions          F1_action, F2_action, F3_action, ... (6 actions)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   projects         F1_project, F2_project, F3_project, ... (6 projects)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   features         F1, F2, F3, ... (5 features)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   action costs:    min: 0, max: 103.22583</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   project success: min: 0.81379, max: 1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   objective:       Maximum richness objective [budget (200)]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   targets:         none</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   weights:         default</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   decisions        Binary decision </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   constraints:     &lt;none&gt;</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   solver:          Gurobi [first_feasible (0), gap (0), number_solutions (100), presolve (2), solution_pool_method (2), threads (1), time_limit (2147483647), time_limit (2147483647), verbose (1)]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># solve problem</span></span></span>
<span class="r-in"><span><span class="va">s3</span> <span class="op">&lt;-</span> <span class="fu"><a href="solve.html">solve</a></span><span class="op">(</span><span class="va">p3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter Username</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter LicenseID to value 2599748</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter TimeLimit to value 2147483647</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter MIPGap to value 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter NumericFocus to value 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter Presolve to value 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter Threads to value 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter PoolSolutions to value 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameter PoolSearchMode to value 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Academic license - for non-commercial use only - expires 2025-12-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gurobi Optimizer version 12.0.2 build v12.0.2rc0 (linux64 - "Ubuntu 24.04.2 LTS")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CPU model: 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz, instruction set [SSE2|AVX|AVX2|AVX512]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thread count: 4 physical cores, 8 logical processors, using up to 1 threads</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Non-default parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TimeLimit  2147483647</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MIPGap  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LogToConsole  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NumericFocus  3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Presolve  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Threads  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PoolSolutions  100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PoolSearchMode  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Optimize a model with 47 rows, 47 columns and 102 nonzeros</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model fingerprint: 0x193cb636</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable types: 0 continuous, 42 integer (42 binary)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Semi-Variable types: 5 continuous, 0 integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficient statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Matrix range     [9e-02, 1e+02]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Objective range  [1e+00, 1e+00]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Bounds range     [1e+00, 1e+00]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   RHS range        [1e+00, 2e+02]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Found heuristic solution: objective 1.4456093</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Presolve removed 16 rows and 12 columns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Presolve time: 0.00s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Presolved: 31 rows, 35 columns, 65 nonzeros</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable types: 0 continuous, 35 integer (35 binary)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Found heuristic solution: objective 2.1903807</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Root relaxation presolved: 31 rows, 35 columns, 65 nonzeros</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Root relaxation: objective 2.190381e+00, 11 iterations, 0.00 seconds (0.00 work units)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Nodes    |    Current Node    |     Objective Bounds      |     Work</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      0     0          -    0         2.19038    2.19038  0.00%     -    0s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Optimal solution found at node 0 - now completing solution pool...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Nodes    |    Current Node    |      Pool Obj. Bounds     |     Work</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              |                    |   Worst                   |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      0     0          -    0               -    2.19038      -     -    0s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      0     2          -    0               -    2.19038      -     -    0s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Explored 218 nodes (35 simplex iterations) in 0.01 seconds (0.00 work units)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thread count was 1 (of 8 available processors)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Solution count 100: 2.19038 2.19038 2.19038 ... 2.19038</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> No other solutions better than 2.19038</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Optimal solution found (tolerance 0.00e+00)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Best objective 2.190380737245e+00, best bound 2.190380737245e+00, gap 0.0000%</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># print solutions</span></span></span>
<span class="r-in"><span><span class="fu"><a href="print.html">print</a></span><span class="op">(</span><span class="va">s3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 21</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   solution status    obj  cost F1_action F2_action F3_action F4_action F5_action</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>        1 OPTIMAL  2.19  195.         1         1         0         0         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 12 more variables: baseline_action &lt;dbl&gt;, F1_project &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   F2_project &lt;dbl&gt;, F3_project &lt;dbl&gt;, F4_project &lt;dbl&gt;, F5_project &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   baseline_project &lt;dbl&gt;, F1 &lt;dbl&gt;, F2 &lt;dbl&gt;, F3 &lt;dbl&gt;, F4 &lt;dbl&gt;, F5 &lt;dbl&gt;</span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://jeffrey-hanson.com" class="external-link">Jeffrey O Hanson</a>, <a href="http://www.richard-schuster.com" class="external-link">Richard Schuster</a>, <a href="http://strimas.com" class="external-link">Matthew Strimas-Mackey</a>, <a href="https://josephrbennett.wordpress.com" class="external-link">Joseph R Bennett</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

