<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Project problem class — ProjectProblem-class • oppr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Project problem class — ProjectProblem-class"><meta property="og:description" content="Project problem class"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oppr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/oppr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/prioritizr/oppr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Project problem class</h1>
    <small class="dont-index">Source: <a href="https://github.com/prioritizr/oppr/blob/HEAD/R/ProjectProblem-proto.R" class="external-link"><code>R/ProjectProblem-proto.R</code></a></small>
    <div class="hidden name"><code>ProjectProblem-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Project problem class</p>
    </div>


    <div id="description">
    <h2>Description</h2>
    

<p>This class is used to represent project prioritization problems. A
project prioritization problem has actions, projects,
and features. Features are the biological entities that need to
be conserved (e.g. species, populations, ecosystems). Actions are
real-world management actions that can be implemented for conservation
purposes (e.g. habitat restoration, monitoring, pest eradication). Each
action should have a known cost, and this usually means that each
action should have a defined spatial extent and time period (though this
is not necessary). Conservation projects are groups of management actions
(they can also comprise a singular action too), and each project is
associated with a probability of success if all of its associated actions
are funded. To determine which projects should be funded, each project is
associated with an probability of persistence for the
features that they benefit. These values should indicate the
probability that each feature will persist if only that project funded
and not the additional benefit relative to the baseline project. Missing
(<code>NA</code>) values should be used to indicate which projects do not
enhance the probability of certain features.</p>
<p>Given these data, a project prioritization problem involves making a
decision about which actions should be funded or not---and in turn, which
projects should be funded or not---to maximize or minimize a specific
objective whilst meeting specific constraints. The objective for a project
prioritization problem will <em>always</em> pertain to the probability that
features are expected to persist. For example, an objective for a project
prioritization problem could be to maximize the maximize the total amount of
species that are expected to persist, or minimize the total cost of the
funded actions subject to constraints which ensure that each feature meets a
target level of persistence. The constraints in a project prioritization
problem can be used to specify additional requirements (e.g. certain
actions must be funded). Finally, a project prioritization problem---unlike
an optimization problem---also requires a method to solve the problem.
<strong>This class represents a planning problem, to actually build and then
solve a planning problem, use the <code><a href="problem.html">problem()</a></code> function. Only
experts should use this class directly.</strong></p>
    </div>
    <div id="fields">
    <h2>Fields</h2>
    

<dl><dt>$data</dt>
<dd><p><code>list</code> object containing data.</p></dd>


<dt>$objective</dt>
<dd><p><a href="Objective-class.html">Objective</a> object used to represent how
the targets relate to the solution.</p></dd>


<dt>$decisions</dt>
<dd><p><a href="Decision-class.html">Decision</a> object used to represent the
type of decision made on planning units.</p></dd>


<dt>$targets</dt>
<dd><p><a href="Target-class.html">Target</a> object used to represent
representation targets for features.</p></dd>


<dt>$weights</dt>
<dd><p><a href="Weight-class.html">Weight</a> object used to represent
feature weights.</p></dd>


<dt>$constraints</dt>
<dd><p><a href="Collection-class.html">Collection</a> object used to represent
additional <a href="constraints.html">constraints</a> that the problem is subject to.</p></dd>


<dt>$solver</dt>
<dd><p><a href="Solver-class.html">Solver</a> object used to solve the problem.</p></dd>



</dl></div>
    <div id="usage">
    <h2>Usage</h2>
    


<p><code>x$print()</code></p>
<p><code>x$show()</code></p>
<p><code>x$repr()</code></p>
<p><code>x$get_data(name)</code></p>
<p><code>x$set_data(name, value)</code></p>
<p><code><a href="number_of_actions.html">number_of_actions()</a></code></p>
<p><code><a href="number_of_projects.html">number_of_projects()</a></code></p>
<p><code><a href="number_of_features.html">number_of_features()</a></code></p>
<p><code><a href="action_names.html">action_names()</a></code></p>
<p><code><a href="project_names.html">project_names()</a></code></p>
<p><code><a href="feature_names.html">feature_names()</a></code></p>
<p><code>feature_weights()</code></p>
<p><code>feature_phylogeny()</code></p>
<p><code>action_costs()</code></p>
<p><code>project_costs()</code></p>
<p><code>project_success_probabilities()</code></p>
<p><code>pf_matrix()</code></p>
<p><code>epf_matrix()</code></p>
<p><code>pa_matrix()</code></p>
<p><code>x$add_objective(obj)</code></p>
<p><code>x$add_decisions(dec)</code></p>
<p><code>x$add_constraint(con)</code></p>
<p><code>x$add_solver(sol)</code></p>
<p><code>x$add_targets(targ)</code></p>
<p><code>x$add_weights(wt)</code></p>
<p><code>x$get_constraint_parameter(id)</code></p>
<p><code>x$set_constraint_parameter(id, value)</code></p>
<p><code>x$render_constraint_parameter(id)</code></p>
<p><code>x$render_all_constraint_parameters()</code></p>
<p><code>x$get_objective_parameter(id)</code></p>
<p><code>x$set_objective_parameter(id, value)</code></p>
<p><code>x$render_objective_parameter(id)</code></p>
<p><code>x$render_all_objective_parameters()</code></p>
<p><code>x$get_solver_parameter(id)</code></p>
<p><code>x$set_solver_parameter(id, value)</code></p>
<p><code>x$render_solver_parameter(id)</code></p>
<p><code>x$render_all_solver_parameters()</code></p>
    </div>
    <div id="arguments">
    <h2>Arguments</h2>
    


<dl><dt>name</dt>
<dd><p><code>character</code> name for object.</p></dd>


<dt>value</dt>
<dd><p>an object.</p></dd>


<dt>obj</dt>
<dd><p><a href="Objective-class.html">Objective</a> object.</p></dd>


<dt>wt</dt>
<dd><p><a href="Weight-class.html">Weight</a> object.</p></dd>


<dt>dec</dt>
<dd><p><a href="Decision-class.html">Decision</a> object.</p></dd>


<dt>con</dt>
<dd><p><a href="Constraint-class.html">Constraint</a> object.</p></dd>


<dt>sol</dt>
<dd><p><a href="Solver-class.html">Solver</a> object.</p></dd>


<dt>targ</dt>
<dd><p><a href="Target-class.html">Target</a> object.</p></dd>


<dt>wt</dt>
<dd><p><a href="Weight-class.html">Weight</a> object.</p></dd>


<dt>id</dt>
<dd><p><code>Id</code> object that refers to a specific parameter.</p></dd>


<dt>value</dt>
<dd><p>object that the parameter value should become.</p></dd>



</dl></div>
    <div id="details">
    <h2>Details</h2>
    

<dl><dt>print</dt>
<dd><p>print the object.</p></dd>


<dt>show</dt>
<dd><p>show the object.</p></dd>


<dt>repr</dt>
<dd><p>return <code>character</code> representation of the object.</p></dd>


<dt>get_data</dt>
<dd><p>return an object stored in the <code>data</code> field with
the corresponding <code>name</code>. If the object is not present in the
<code>data</code> field, a <code>waiver</code> object is returned.</p></dd>


<dt>set_data</dt>
<dd><p>store an object stored in the <code>data</code> field with
the corresponding name. If an object with that name already
exists then the object is overwritten.</p></dd>


<dt>number_of_actions</dt>
<dd><p><code>integer</code> number of actions.</p></dd>


<dt>number_of_projects</dt>
<dd><p><code>integer</code> number of projects.</p></dd>


<dt>number_of_features</dt>
<dd><p><code>integer</code> number of features.</p></dd>


<dt>action_names</dt>
<dd><p><code>character</code> names of actions in the problem.</p></dd>


<dt>project_names</dt>
<dd><p><code>character</code> names of projects in the problem.</p></dd>


<dt>feature_names</dt>
<dd><p><code>character</code> names of features in the problem.</p></dd>


<dt>feature_weights</dt>
<dd><p><code>character</code> feature weights.</p></dd>


<dt>feature_phylogeny</dt>
<dd><p><code><a href="https://rdrr.io/pkg/ape/man/read.tree.html" class="external-link">ape::phylo()</a></code> phylogenetic tree object.</p></dd>


<dt>action_costs</dt>
<dd><p><code>numeric</code> costs for each action.</p></dd>


<dt>project_costs</dt>
<dd><p><code>numeric</code> costs for each project.</p></dd>


<dt>project_success_probabilities</dt>
<dd><p><code>numeric</code> probability that
each project will succeed.</p></dd>


<dt>pf_matrix</dt>
<dd><p><a href="https://rdrr.io/pkg/Matrix/man/dgCMatrix-class.html" class="external-link">Matrix::dgCMatrix</a> object denoting the enhanced
probability that features will persist if different projects are funded.</p></dd>


<dt>epf_matrix</dt>
<dd><p><a href="https://rdrr.io/pkg/Matrix/man/dgCMatrix-class.html" class="external-link">Matrix::dgCMatrix</a> object denoting the enhanced
probability that features is expected to persist if different projects are
funded. This is calculated as the <code>pf_matrix</code> multiplied by the
project success probabilities.</p></dd>


<dt>pa_matrix</dt>
<dd><p><a href="https://rdrr.io/pkg/Matrix/man/dgCMatrix-class.html" class="external-link">Matrix::dgCMatrix</a> object indicating which actions are
associated with which projects.</p></dd>


<dt>feature_targets</dt>
<dd><p><code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble::tibble()</a></code> with feature targets.</p></dd>


<dt>add_objective</dt>
<dd><p>return a new  ProjectProblem
with the objective added to it.</p></dd>


<dt>add_decisions</dt>
<dd><p>return a new ProjectProblem
object with the decision added to it.</p></dd>


<dt>add_solver</dt>
<dd><p>return a new ProjectProblem object
with the solver added to it.</p></dd>


<dt>add_constraint</dt>
<dd><p>return a new ProjectProblem
object with the constraint added to it.</p></dd>


<dt>add_targets</dt>
<dd><p>return a copy with the targets added to the problem.</p></dd>


<dt>get_constraint_parameter</dt>
<dd><p>get the value of a parameter (specified by
argument <code>id</code>) used in one of the constraints in the object.</p></dd>


<dt>set_constraint_parameter</dt>
<dd><p>set the value of a parameter (specified by
argument <code>id</code>) used in one of the constraints in the object to
<code>value</code>.</p></dd>


<dt>render_constraint_parameter</dt>
<dd><p>generate a <em>shiny</em> widget to modify
the value of a parameter (specified by argument <code>id</code>).</p></dd>


<dt>render_all_constraint_parameters</dt>
<dd><p>generate a <em>shiny</em> <code>div</code>
containing all the parameters' widgets.</p></dd>


<dt>get_objective_parameter</dt>
<dd><p>get the value of a parameter (specified by
argument <code>id</code>) used in the object's objective.</p></dd>


<dt>set_objective_parameter</dt>
<dd><p>set the value of a parameter (specified by
argument <code>id</code>) used in the object's objective to <code>value</code>.</p></dd>


<dt>render_objective_parameter</dt>
<dd><p>generate a <em>shiny</em> widget to modify
the value of a parameter (specified by argument <code>id</code>).</p></dd>


<dt>render_all_objective_parameters</dt>
<dd><p>generate a <em>shiny</em> <code>div</code>
containing all the parameters' widgets.</p></dd>


<dt>get_weight_parameter</dt>
<dd><p>get the value of a parameter (specified by
argument <code>id</code>) used in the object's weights.</p></dd>


<dt>set_weight_parameter</dt>
<dd><p>set the value of a parameter (specified by
argument <code>id</code>) used in the object's weights to <code>value</code>.</p></dd>


<dt>render_weight_parameter</dt>
<dd><p>generate a <em>shiny</em> widget to modify
the value of a parameter (specified by argument <code>id</code>).</p></dd>


<dt>render_all_weight_parameters</dt>
<dd><p>generate a <em>shiny</em> <code>div</code>
containing all the parameters' widgets.</p></dd>


<dt>get_solver_parameter</dt>
<dd><p>get the value of a parameter (specified by
argument <code>id</code>) used in the object's solver.</p></dd>


<dt>set_solver_parameter</dt>
<dd><p>set the value of a parameter (specified by
argument <code>id</code>) used in the object's solver to <code>value</code>.</p></dd>


<dt>render_solver_parameter</dt>
<dd><p>generate a <em>shiny</em> widget to modify
the value of a parameter (specified by argument <code>id</code>).</p></dd>


<dt>render_all_solver_parameters</dt>
<dd><p>generate a <em>shiny</em> <code>div</code>
containing all the parameters' widgets.</p></dd>



</dl></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://jeffrey-hanson.com" class="external-link">Jeffrey O Hanson</a>, <a href="http://www.richard-schuster.com" class="external-link">Richard Schuster</a>, <a href="http://strimas.com" class="external-link">Matthew Strimas-Mackey</a>, <a href="https://josephrbennett.wordpress.com" class="external-link">Joseph R Bennett</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

